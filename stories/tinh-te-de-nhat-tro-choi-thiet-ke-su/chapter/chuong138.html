
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
 <title>ChÆ°Æ¡ng 138: Cáº£m táº¡ trÃ² chÆ¡i!</title>

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Noto+Serif&family=Playfair+Display:wght@600;700&display=swap"
    rel="stylesheet"
  >

  <!-- Style dÃ¹ng chung -->
  <link rel="stylesheet" href="../style.css">
</head>

<body class="page-chapter">


  <!-- ===== NÃšT Má» THÆ¯ VIá»†N (TRÃI) ===== -->
  <div class="menu-toggle" onclick="toggleLibrary()">â˜°</div>

  <div class="overlay" id="overlay" onclick="toggleLibrary()"></div>

  <div class="library-sidebar" id="librarySidebar">
    <div class="library-header">
      ğŸ“š ThÆ° viá»‡n
      <span class="close-btn" onclick="toggleLibrary()">âœ•</span>
    </div>

    <input type="text" id="searchInput" placeholder="TÃ¬m truyá»‡n..." />
    <ul id="storyList"></ul>
  </div>


  <!-- ===== NÃšT Má» Má»¤C Lá»¤C (PHáº¢I) ===== -->
  <div class="chapter-menu-toggle" onclick="toggleChapterMenu()">ğŸ“‘</div>

  <div id="chapterOverlay" class="chapter-overlay" onclick="toggleChapterMenu()"></div>

  <div id="chapterSidebar" class="chapter-sidebar">
    <div class="chapter-sidebar-header">
      ğŸ“š Má»¥c lá»¥c
      <span class="close-btn" onclick="toggleChapterMenu()">âœ•</span>
    </div>

    <ul id="chapterList"></ul>
  </div>
<!-- ================= HEADER ================= -->
<div class="fixed-top">
  <div class="fixed-inner page-chapter">

    <!-- LEFT -->
    <div class="top-left">
      <a class="back-link" href="../index.html">ğŸ“‘ Má»¥c lá»¥c</a>
      <a class="back-link" href="../../../index.html">ğŸ  Trang chá»§</a>
      <a class="back-link" href="../../../thu-vien-ten/name-library.html">ğŸ“– ThÆ° viá»‡n tÃªn</a>
      <button id="bookmarkBtn" class="back-link">ğŸ“Œ Káº¹p sÃ¡ch</button>
    </div>
    <!-- CENTER -->
    <div class="novel-header top-center">
      <h1 class="novel-title">
        Tinh Táº¿ Äá»‡ Nháº¥t TrÃ² ChÆ¡i Thiáº¿t Káº¿ SÆ°
      </h1>
      <div class="novel-meta">
        <span>ChÆ°Æ¡ng 138: Cáº£m táº¡ trÃ² chÆ¡i!</span>
      </div>
    </div>

    <!-- RIGHT -->
    <div class="top-right">
      <a class="back-link" href="chuong137.html">â® ChÆ°Æ¡ng trÆ°á»›c</a>
      <a class="back-link" href="chuong139.html">â­ ChÆ°Æ¡ng sau</a>
    </div>
  </div>
</div>

<!-- ================= CONTENT ================= -->
<main>
<div class="content chapter-content">
<!-- AUTO-INSERT-138 -->
<p>Má»™t viÃªn tinh cáº§u tÃ­n hiá»‡u bá»‹ cháº·n, má»™t hai phÃºt xÃ¡c tháº­t lÃ  khÃ´ng dá»… dÃ ng phÃ¡t hiá»‡n, nhÆ°ng thá»i gian hÆ¡i chÃºt má»™t trÆ°á»ng, á»Ÿ hiá»‡n táº¡i tinh táº¿, váº«n lÃ  khÃ´ng cÃ³ dá»… dÃ ng nhÆ° váº­y.</p>
<p>ViÃªn tinh cáº§u nÃ y láº¡i tiá»ƒu láº¡i thiÃªn, cÅ©ng cÃ³ khÃ´ng Ã­t ngÆ°á»i á»Ÿ cÆ° trÃº. á» ngoáº¡i tinh ngÆ°á»i nhÃ  báº±ng há»¯u, sáº½ liÃªn há»‡ viÃªn tinh cáº§u nÃ y ngÆ°á»i cÆ° dÃ¢n, má»™t khi liÃªn há»‡ khÃ´ng thÃ´ng, kháº³ng Ä‘á»‹nh lÃ  cÃ³ ngÆ°á»i cÃ³ thá»ƒ phÃ¡t hiá»‡n váº¥n Ä‘á». CÃ²n ná»¯a, lÃ¢n tinh tuy ráº±ng cÃ³ má»™t khoáº£ng cÃ¡ch, nhÆ°ng láº¡i nhÆ° tháº¿ nÃ o hai viÃªn tinh cáº§u cÅ©ng sáº½ cÃ³ má»™t Ã­t lui tá»›i, cho nÃªn, nÃ y viÃªn loáº¡i nhá» tinh cáº§u bá»‹ chiáº¿m lÄ©nh, hoáº·c lÃ  nÃ³i báº¯t cÃ³c vá» sau, phá»¥ cáº­n tinh cáº§u thá»±c mau Ä‘á»u hÃ nh Ä‘á»™ng lÃªn.</p>
<p>Äá»“ng thá»i nÃ y máº¥y viÃªn tinh cáº§u Ã½ thá»©c Ä‘Æ°á»£c láº§n nÃ y tinh táº·c Ä‘áº§u lÄ©nh lÃ  ai sau, trÆ°á»›c tiÃªn liá»n hÆ°á»›ng Tinh LiÃªn phÃ¡t Ä‘i tin tá»©c, gia há»a nÃ y trÆ°á»›c Ä‘Ã¢y lÃ  bá»‹ quan vÃ o ngá»¥c giam, nhÆ°ng sau láº¡i bá»‹ ngÆ°á»i cá»©u Ä‘i, ra tá»›i lÃ m sau tung phi thÆ°á»ng áº©n náº¥p, láº§n nÃ y xuáº¥t hiá»‡n nháº¥t Ä‘á»‹nh khÃ´ng cho háº¯n cháº¡y thoÃ¡t cÆ¡ há»™i.</p>
<p>Yáº¿n Tuyáº¿t ChÃ¢u Ä‘ang ngá»§ ngon lÃ nh, liá»n cáº£m giÃ¡c Ä‘Æ°á»£c giÆ°á»ng bÃªn kia nháº¹. Háº¯n mÆ¡ há»“ má»Ÿ máº¯t ra, liá»n tháº¥y Minh Liá»‡t Ä‘Ã£ chá» xuáº¥t phÃ¡t. </p>
<p> â€œNgÃ´â€¦â€¦ ÄÃ£ trá»… tháº¿ nÃ y, muá»‘n Ä‘i ra ngoÃ i sao?â€ Yáº¿n Tuyáº¿t ChÃ¢u xoa Ä‘Ã´i máº¯t, buá»“n ngá»§ giáº£m ráº¥t nhiá»u.</p>
<p>Minh Liá»‡t khÃ´ng cÃ³ thá»i gian giáº£i thÃ­ch quÃ¡ nhiá»u, trá»Ÿ vá» mang theo tráº¥n an tÃ­nh kháº½ hÃ´n má»™t cÃ¡i Yáº¿n Tuyáº¿t ChÃ¢u, â€œNgá»§ Ä‘i, Ä‘áº¡i khÃ¡i vÃ i ngÃ y sau trá»Ÿ vá».â€ </p>
<p> Yáº¿n Tuyáº¿t ChÃ¢u theo tiáº¿ng, khÃ´ng tha mÃ  Ã´m má»™t chÃºt, nhÃ¬n theo Minh Liá»‡t rá»i Ä‘i.</p>
<p>Liá»n tÃ­nh háº¯n Ä‘á»‘i tinh táº¿ máº¥y Ä‘áº¡i quÃ¢n Ä‘oÃ n hiá»ƒu biáº¿t khÃ´ng nhiá»u láº¯m, nhÆ°ng háº¯n Ä‘á»‘i Minh Liá»‡t Ä‘Ã£ hiá»ƒu biáº¿t khÃ´ng Ã­t, Ä‘áº¡i Ä‘a sá»‘ thá»i gian Minh Liá»‡t ra nhiá»‡m vá»¥ Ä‘á»u sáº½ trÆ°á»›c tiÃªn lÃ m chuáº©n bá»‹, hÆ¡n ná»¯a ra ngoÃ i phÃ­a trÆ°á»›c, sáº½ nÃ³i cho háº¯n má»™t cÃ¡i trá»Ÿ vá» thá»i gian.</p>
<p>Hai ba thiÃªn, ná»­a thÃ¡ng, hai thÃ¡ng. MÃ  khÃ´ng pháº£i Ä‘áº¡i khÃ¡i máº¥y ngÃ y loáº¡i nÃ y háº¯n cÅ©ng khÃ´ng quÃ¡ xÃ¡c Ä‘á»‹nh. </p>
<p> Loáº¡i tÃ¬nh huá»‘ng nÃ y Ä‘Æ°Æ¡ng nhiÃªn váº«n pháº£i cÃ³, Ä‘á»u lÃ  kháº©n cáº¥p, Ä‘á»™t nhiÃªn tÃ­nh. </p>
<p> KhÃ´ng biáº¿t ra chuyá»‡n gÃ¬â€¦â€¦</p>
<p>Yáº¿n Tuyáº¿t ChÃ¢u má»™t láº§n ná»¯a náº±m xuá»‘ng, lÄƒn qua lá»™n láº¡i váº«n lÃ  láº¥y ra vÃ²ng tay má»Ÿ ra Tinh VÃµng, nÃ y vá»«a má»Ÿ ra, háº¯n liá»n biáº¿t vÃ¬ cÃ¡i gÃ¬ Minh Liá»‡t nhÆ° váº­y vÃ£n Ä‘i ra ngoÃ i. </p>
<p> CÃ³ má»™t viÃªn tiá»ƒu tinh cáº§u bá»‹ tinh táº·c báº¯t cÃ³c, tinh cáº§u Ä‘iá»‡n lá»±c cÃ¹ng tÃ­n hiá»‡u Ä‘á»u bá»‹ phÃ¡ hÆ°, nhÃ¢n dÃ¢n khÃ´ng biáº¿t hiá»‡n táº¡i tháº¿ nÃ o.</p>
<p>Yáº¿n Tuyáº¿t ChÃ¢u má»™t chÃºt liá»n thanh tá»‰nh. </p>
<p> ã€Š Máº¡t Tháº¿ ThiÃªn Tai ã€‹ lÃ m Ä‘Æ°á»£c máº·t sau cÃ´ng nghá»‡ cao tháº¿ giá»›i, cÅ©ng chÃ­nh lÃ  cÃ¹ng hiá»‡n tinh táº¿ gáº§n bá»‘i cáº£nh thá»i Ä‘iá»ƒm.</p>
<p>Yáº¿n Tuyáº¿t ChÃ¢u tr.a xÃ©t tinh táº¿ tÆ° liá»‡u láº¡i há»i qua Minh Liá»‡t, sau Ä‘Ã³ Ä‘áº¿n ra tá»± nhiÃªn thiÃªn tai, trá»« phi lÃ  tinh cáº§u cháº¡m vÃ o nhau loáº¡i tÃ¬nh huá»‘ng nÃ y, bÃ¬nh thÆ°á»ng thiÃªn nhiÃªn tai hoáº¡, Ä‘á»‘i hiá»‡n cÃ³ khoa há»c ká»¹ thuáº­t tá»›i nÃ³i, Ä‘á»u khÃ´ng há» nhÆ° váº­y khá»§ng bá»‘. Máº·c dÃ¹ cÃ³ vÃ´ phÃ¡p ngÄƒn trá»Ÿ, tinh táº¿ tai náº¡n kiá»ƒm tr.a Ä‘o lÆ°á»ng thiáº¿t bá»‹ cÅ©ng sáº½ trÆ°á»›c tiÃªn bÃ¡o Ä‘á»™ng trÆ°á»›c, trÃªn tinh cáº§u nhÃ¢n dÃ¢n lÃ  cÃ³ thá»i gian cháº¡y trá»‘n, khÃ³ khÄƒn ngÆ°á»£c láº¡i cÃ²n khÃ´ng cÃ³ giai Ä‘oáº¡n trÆ°á»›c tháº¥p khoa há»c ká»¹ thuáº­t thá»i Ä‘áº¡i cao.</p>
<p>VÃ¬ tháº¿, Yáº¿n Tuyáº¿t ChÃ¢u liá»n tÆ°á»Ÿng, kia náº¿u cÃ³ má»™t ngÃ y má»i ngÆ°á»i á»· láº¡i khoa há»c ká»¹ thuáº­t Ä‘Ã¬nh chá»‰ váº­n tÃ¡c Ä‘Ã¢u?</p>
<p>Minh Liá»‡t nÃ³i cho háº¯n, khÃ´ng cáº§n náº¿u, loáº¡i nÃ y sá»± á»Ÿ tinh táº¿ lÃ  cÃ³ phÃ¡t sinh. Tá»«ng cÃ³ khá»§ng bá»‘. PhÃ¢n. Tá»­ cháº·n quÃ¡ má»™t máº£nh khu vá»±c tÃ­n hiá»‡u, láº¡i cháº¿ táº¡o ra mÃ¡y quáº¥y nhiá»…u táº¡o thÃ nh khÃ´ng Ã­t thÆ°Æ¡ng vong. Sau láº¡i nháº±m vÃ o loáº¡i nÃ y sá»± kiá»‡n, cÃ¡c nhÃ  khoa há»c cÅ©ng nghiÃªn cá»©u ra Ä‘á»•i má»›i hÃ¬nh bÃ¡o nguy há»‡ thá»‘ng.</p>
<p>NhÆ°ng lÃ  loáº¡i nÃ y phÃ²ng há»™ thá»§ Ä‘oáº¡n, chá»‰ lÃ  nÃ³i háº¡ tháº¥p nÃ y loáº¡i sá»± kiá»‡n phÃ¡t sinh, cÅ©ng khÃ´ng thá»ƒ lÃ m Ä‘Æ°á»£c trÄƒm pháº§n trÄƒm phÃ²ng há»™. </p>
<p> BÃ¬nh tÄ©nh sinh hoáº¡t quÃ¡ lÃ¢u rá»“i, ai sáº½ nghÄ© Ä‘áº¿n Ä‘á»™t nhiÃªn cÃ³ má»™t ngÃ y tai náº¡n liá»n sáº½ buÃ´ng xuá»‘ng Ä‘Ã¢u? Giá» nÃ y kháº¯c nÃ y</p>
<p>, trÃªn Tinh VÃµng Ä‘Ã£ che trá»i láº¥p Ä‘áº¥t Ä‘á»u lÃ  kia viÃªn tiá»ƒu tinh cáº§u sá»±. NÃ y tinh cáº§u liá»n cÃ³ Ä‘iá»ƒm thuá»™c vá» thÃ¢m sÆ¡n cÃ¹ng cá»‘c, cÃ¹ng loáº¡i vá»›i thÃ nh hÆ°Æ¡ng tÆ°Æ¡ng há»£p tiá»ƒu huyá»‡n thÃ nh, bá»Ÿi vÃ¬ tinh cáº§u báº£n thÃ¢n liá»n khÃ´ng quÃ¡ giÃ u cÃ³, á»Ÿ phÃ²ng há»™ trÃ¡o nÃ y má»™t loáº¡t an báº£o thá»§ Ä‘oáº¡n thÆ°á»£ng, xa xa khÃ´ng báº±ng phá»“n vinh Ä‘áº¡i tinh cáº§u, cÅ©ng liá»n cÃ ng dá»… dÃ ng bá»‹ Ä‘á»™t phÃ¡.</p>
<p>Sá»± tÃ¬nh phÃ¡t sinh Ä‘Ã£ qua vÃ i tiáº¿ng Ä‘á»“ng há»“. </p>
<p> Hiá»‡n táº¡i tinh láº¡c thÆ°á»£ng lo láº¯ng chÃ­nh lÃ , viÃªn tinh cáº§u nÃ y hay khÃ´ng Ä‘Ã£ khÃ´i phá»¥c Ä‘iá»‡n lá»±c, tÃ­n hiá»‡u Ä‘á»u táº¡m thá»i khÃ´ng nÃ³i, Ä‘iá»‡n lá»±c tháº­t sá»± trá»ng yáº¿u phi thÆ°á»ng. </p>
<p> Bá»Ÿi vÃ¬ kia viÃªn tiá»ƒu tinh cáº§u báº£n thÃ¢n hoÃ n cáº£nh lÃ  phi thÆ°á»ng Ã¡c liá»‡t.</p>
<p>CÃ³ Ä‘iá»‡n, cÆ° dÃ¢n má»›i cÃ³ biá»‡n phÃ¡p sá»­ dá»¥ng má»™t Ã­t khÃ­ giá»›i thiáº¿t bá»‹, khÃ´ng cÃ³ Ä‘iá»‡n lá»±c, ngÆ°á»i thÆ°á»ng á»Ÿ viÃªn tinh cáº§u kia Ã¡c liá»‡t hoÃ n cáº£nh háº¡, tháº­t sá»± ráº¥t nguy hiá»ƒm. </p>
<p> TrÃªn tinh cáº§u tá»“n táº¡i váº¥n Ä‘á», khÃ´ng cÃ²n khÃ­ cháº¥t lÆ°á»£ng váº¥n Ä‘á», nhá»‹ nhiá»‡t Ä‘á»™ tháº¥p.</p>
<p>Khoa há»c ká»¹ thuáº­t Ä‘Ã­ch xÃ¡c phi thÆ°á»ng phÆ°Æ¡ng tiá»‡n, liá»n tÃ­nh á»Ÿ cÃ¡i nÃ y â€œTiá»ƒu huyá»‡n thÃ nhâ€, nhiá»‡t Ä‘á»™ tháº¥p cÃ¹ng dÆ°á»¡ng khÃ­ nguyÃªn báº£n cÅ©ng khÃ´ng pháº£i cÃ¡i gÃ¬ váº¥n Ä‘á», chÃ­nh phá»§ cÃ³ nÃ¢ng Ä‘á»¡, liá»n tÃ­nh má»™t phÃ¢n tiá»n Ä‘á»u khÃ´ng cÃ³, má»—i thÃ¡ng Ä‘á»u cÃ³ thá»ƒ lÄ©nh nháº¥t giáº£n dá»‹ lá»c khÃ­ cÃ¹ng tá»± Ä‘á»™ng Ä‘á»™ áº¥m Ä‘iá»u tiáº¿t quáº§n Ã¡o.</p>
<p>NhÆ°ng Ä‘áº¡i Ä‘a sá»‘ lá»c khÃ­ Ä‘á»u lÃ  yÃªu cáº§u náº¡p Ä‘iá»‡n, bá»Ÿi vÃ¬ viÃªn tinh cáº§u nÃ y khÃ´ng khÃ­ cháº¥t lÆ°á»£ng tháº­t sá»± kÃ©m, hÆ¡n ná»¯a vÃ´ phÃ¡p xá»­ lÃ½, á»Ÿ chá»— nÃ y sinh tá»“n má»—i ngÃ y Ä‘á»u Ä‘áº¿n sá»­ dá»¥ng, dÃ¹ng má»™t láº§n lá»c khÃ­ thá»±c lÃ£ng phÃ­, Ä‘Æ°Æ¡ng nhiÃªn lÃ  nhÆ°ng tuáº§n hoÃ n sá»­ dá»¥ng cÃ ng cÃ³ lá»£i vÃ  thá»±c táº¿.</p>
<p>Tinh táº¿ phÃ¡t Ä‘iá»‡n ká»¹ thuáº­t ráº¥t nhiá»u, giá»‘ng nhau xÃ¡c tháº­t khÃ´ng cáº§n lo láº¯ng cung cáº¥p Ä‘iá»‡n váº¥n Ä‘á». NhÆ°ng hiá»‡n táº¡i lÃ  cÃ¡c loáº¡i dá»± trá»¯ cÃ¹ng phÃ¡t Ä‘iá»‡n Ä‘á»u bá»‹ phÃ¡ hÆ°, trá»« phi cÆ° dÃ¢n trong nhÃ  tá»± bá»‹, náº¿u khÃ´ng tháº­t sá»± ráº¥t khÃ³ nÃ³i.</p>
<p>Nhiá»‡t Ä‘á»™ tháº¥p ngÆ°á»£c láº¡i lÃ  á»Ÿ khÃ´ng khÃ­ máº·t sau, pháº§n lá»›n nhÃ¢n gia Ä‘á»u cÃ³ loáº¡i nÃ y quáº§n Ã¡o.</p>
<p>Náº¿u lÃ  trong nhÃ  khÃ´ng cÃ³ phÃ¡t Ä‘iá»‡n cÃ´ng cá»¥, cÅ©ng khÃ´ng cÃ³ Ä‘á»§ nhiá»u trÃ n ngáº­p Ä‘iá»‡n lá»c khÃ­, nhÆ° váº­y, viÃªn tinh cáº§u nÃ y thá»ƒ cháº¥t giá»‘ng nhau cÆ° dÃ¢n Ä‘em trong tÆ°Æ¡ng lai thá»i gian quÃ¡ Ä‘áº¿n dá»‹ thÆ°á»ng gian nan, vÆ°á»£t qua 24 giá» sau, cÃ²n kháº£ nÄƒng sáº½ xuáº¥t hiá»‡n hÃ´ háº¥p tá»©c tá»­ vong khá»§ng bá»‘ hiá»‡n tÆ°á»£ng.</p>
<p>MÃ  lÃºc nÃ y Diá»‡p gia tá»· Ä‘á»‡ cÃ¹ng bá»n há» hÃ ng xÃ³m Ä‘á»“ng há»c, chÃ­nh an á»•n mÃ  trÃ¡nh á»Ÿ ngáº§m cÃ¡i kia tiá»ƒu khÃ´ng gian háº¡. </p>
<p> NÆ¡i nÃ y, pháº£ng pháº¥t tháº­t sá»± nhÆ° lÃ  trong trÃ² chÆ¡i an toÃ n phÃ²ng, ngoáº¡i giá»›i nguy hiá»ƒm cÅ©ng khÃ´ng cÃ³ thá»ƒ Äƒn mÃ²n á»Ÿ Ä‘Ã¢y.</p>
<p>Máº¥y cÃ¡i tiá»ƒu hÃ i tá»­ á»Ÿ chÆ¡i qua trÃ² chÆ¡i lÃºc sau, cÃ²n hiá»ƒu Ä‘Æ°á»£c káº¿t há»£p nhÃ  mÃ¬nh tinh cáº§u tÃ¬nh huá»‘ng, cho nÃªn hiá»‡n táº¡i trong khÃ´ng gian chuáº©n bá»‹ khÃ´ng Ã­t lá»c khÃ­ cÃ¹ng quáº§n Ã¡o, cÃ²n cÃ³ dinh dÆ°á»¡ng dá»‹ch cÃ¹ng sáº¡ch sáº½ thá»§y. </p>
<p> Má»™t Ä‘Ã¡m Ä‘áº¡i nhÃ¢n láº«n nhau Ä‘á»‘i diá»‡n, Ä‘á»u cÃ³ má»™t loáº¡i hÆ° áº£o cáº£m.</p>
<p>Bá»n há» bá»‹ nhÃ  mÃ¬nh hÃ i tá»­ cá»©u, Ä‘Ãºng rá»“i, kia khoáº£n trÃ² chÆ¡i gá»i lÃ  gÃ¬ tá»›i? Bá»n há» cÃ²n háº³n lÃ  cáº£m táº¡ trÃ² chÆ¡i nÃ y xuáº¥t hiá»‡n, náº¿u khÃ´ng bá»n há» hiá»‡n táº¡i sá»‘ng hay ch.áº¿t, tháº­t sá»± ráº¥t khÃ³ nÃ³i.!</p>
<!-- END-AUTO-INSERT-138 -->



<!-- ===== NAV DÆ¯á»šI ===== -->
<div class="nav">
      <a class="back-link" href="../index.html">ğŸ“‘ Má»¥c lá»¥c</a>
      <a class="back-link" href="../../../index.html">ğŸ  Trang chá»§</a>
      <a class="back-link" href="../../../thu-vien-ten/name-library.html">ğŸ“– ThÆ° viá»‡n tÃªn</a>
      <a class="back-link" href="chuong137.html">â® ChÆ°Æ¡ng trÆ°á»›c</a>
      <a class="back-link" href="chuong139.html">â­ ChÆ°Æ¡ng sau</a>
</div>
  </main>
<!-- ================= BOOKMARK ================= -->
<script>
const NOVEL_ID = "tinh-te-de-nhat-tro-choi-thiet-ke-su";
const NOVEL_TITLE = "Tinh Táº¿ Äá»‡ Nháº¥t TrÃ² ChÆ¡i Thiáº¿t Káº¿ SÆ°";
const CHAPTER_TITLE = "ChÆ°Æ¡ng 138: Cáº£m táº¡ trÃ² chÆ¡i!";
const btn = document.getElementById("bookmarkBtn");
function getBookmarks() {
  return JSON.parse(localStorage.getItem("bookmarks")) || {};
}
function isBookmarked() {
  return !!getBookmarks()[NOVEL_ID];
}
function updateButton() {
  const marked = isBookmarked();
  btn.textContent = marked ? "âœ… ÄÃ£ káº¹p" : "ğŸ“Œ Káº¹p sÃ¡ch";
  btn.classList.toggle("active", marked);
}
function toggleBookmark() {
  const bookmarks = getBookmarks();
  if (bookmarks[NOVEL_ID]) {
    delete bookmarks[NOVEL_ID];
    alert("âŒ ÄÃ£ bá» káº¹p sÃ¡ch");
  } else {
    bookmarks[NOVEL_ID] = {
      novelTitle: NOVEL_TITLE,
      chapterTitle: CHAPTER_TITLE,
      url: location.href,
      time: Date.now()
    };
    alert("ğŸ“Œ ÄÃ£ lÆ°u chÆ°Æ¡ng Ä‘ang Ä‘á»c");
  }
  localStorage.setItem("bookmarks", JSON.stringify(bookmarks));
  updateButton();
}
updateButton();
btn.addEventListener("click", toggleBookmark);
</script>
<!-- ================= HEADER SHRINK ================= -->
<script>
document.addEventListener("DOMContentLoaded", function () {

  /* =========================
     HEADER SHRINK + PADDING
  ========================== */

  const fixedHeader = document.querySelector(".fixed-top");
  const main = document.querySelector("main");

  function adjustMainPadding() {
    if (!fixedHeader || !main) return;
    main.style.paddingTop = fixedHeader.offsetHeight + 20 + "px";
  }

  function handleHeaderShrink() {
    if (!fixedHeader) return;
    fixedHeader.classList.toggle("shrink", window.scrollY > 80);
    adjustMainPadding();
  }

  window.addEventListener("scroll", handleHeaderShrink);
  window.addEventListener("resize", adjustMainPadding);
  adjustMainPadding();


  /* =========================
     SIDEBAR THÆ¯ VIá»†N (TRÃI)
  ========================== */

  const sidebar = document.getElementById("librarySidebar");
  const overlay = document.getElementById("overlay");
  const storyList = document.getElementById("storyList");
  const searchInput = document.getElementById("searchInput");

  function toggleLibrary() {
    if (!sidebar || !overlay) return;
    sidebar.classList.toggle("active");
    overlay.classList.toggle("active");
  }

  window.toggleLibrary = toggleLibrary;

  let storiesData = [];

  fetch("../../../stories.json")
    .then(res => res.json())
    .then(data => {
      storiesData = data;
      renderStories(data);
    })
    .catch(err => console.error("Lá»—i load stories.json:", err));

  function renderStories(data) {
    if (!storyList) return;

    storyList.innerHTML = "";

    const pathParts = window.location.pathname.split("/");
    const currentSlug = pathParts[2];

    data.forEach((story, index) => {
      const li = document.createElement("li");
      li.style.animationDelay = `${Math.min(index * 0.03, 0.3)}s`;

      const a = document.createElement("a");
      a.href = `/web-doc-truyen/stories/${story.slug}/`;
      a.textContent = `${story.title} (${story.chapters} chÆ°Æ¡ng)`;

      if (story.slug === currentSlug) {
        a.style.background = "#e0e7ff";
      }

      li.appendChild(a);
      storyList.appendChild(li);
    });
  }

  if (searchInput) {
    searchInput.addEventListener("input", function () {
      const keyword = this.value.toLowerCase();
      const filtered = storiesData.filter(story =>
        story.title.toLowerCase().includes(keyword)
      );
      renderStories(filtered);
    });
  }


  /* =========================
     SIDEBAR Má»¤C Lá»¤C CHÆ¯Æ NG (PHáº¢I)
  ========================== */

  const chapterSidebar = document.getElementById("chapterSidebar");
  const chapterOverlay = document.getElementById("chapterOverlay");
  const chapterList = document.getElementById("chapterList");

  function toggleChapterMenu() {
    if (!chapterSidebar || !chapterOverlay) return;
    chapterSidebar.classList.toggle("active");
    chapterOverlay.classList.toggle("active");
  }

  window.toggleChapterMenu = toggleChapterMenu;

  if (chapterList) {
    fetch("../index.html")
      .then(res => res.text())
      .then(html => {
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, "text/html");

        const toc = doc.querySelector(".content ul");
        if (!toc) return;

        const currentPage = window.location.pathname.split("/").pop();

        toc.querySelectorAll("li").forEach(li => {
          const a = li.querySelector("a");
          if (!a) return;

          let href = a.getAttribute("href");

          if (href.startsWith("chapter/")) {
            href = href.replace("chapter/", "");
          }

          const newLi = document.createElement("li");
          const newA = document.createElement("a");

          newA.href = href;
          newA.textContent = a.textContent;

          if (href === currentPage) {
            newA.style.background = "#e0e7ff";
          }

          newLi.appendChild(newA);
          chapterList.appendChild(newLi);
        });
      })
      .catch(err => console.error("KhÃ´ng load Ä‘Æ°á»£c má»¥c lá»¥c:", err));
  }
});
</script>
</body>
</html>
