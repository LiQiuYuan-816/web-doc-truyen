
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
 <title>ChÆ°Æ¡ng 88</title>

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Noto+Serif&family=Playfair+Display:wght@600;700&display=swap"
    rel="stylesheet"
  >

  <!-- Style dÃ¹ng chung -->
  <link rel="stylesheet" href="../style.css">
</head>

<body class="page-chapter">
<body class="page-chapter">

  <!-- ===== NÃšT Má» THÆ¯ VIá»†N (TRÃI) ===== -->
  <div class="menu-toggle" onclick="toggleLibrary()">â˜°</div>

  <div class="overlay" id="overlay" onclick="toggleLibrary()"></div>

  <div class="library-sidebar" id="librarySidebar">
    <div class="library-header">
      ğŸ“š ThÆ° viá»‡n
      <span class="close-btn" onclick="toggleLibrary()">âœ•</span>
    </div>

    <input type="text" id="searchInput" placeholder="TÃ¬m truyá»‡n..." />
    <ul id="storyList"></ul>
  </div>


  <!-- ===== NÃšT Má» Má»¤C Lá»¤C (PHáº¢I) ===== -->
  <div class="chapter-menu-toggle" onclick="toggleChapterMenu()">ğŸ“‘</div>

  <div id="chapterOverlay" class="chapter-overlay" onclick="toggleChapterMenu()"></div>

  <div id="chapterSidebar" class="chapter-sidebar">
    <div class="chapter-sidebar-header">
      ğŸ“š Má»¥c lá»¥c
      <span class="close-btn" onclick="toggleChapterMenu()">âœ•</span>
    </div>

    <ul id="chapterList"></ul>
  </div>
<!-- ================= HEADER ================= -->
<div class="fixed-top">
  <div class="fixed-inner page-chapter">

    <!-- LEFT -->
    <div class="top-left">
      <a class="back-link" href="../index.html">ğŸ“‘ Má»¥c lá»¥c</a>
      <a class="back-link" href="../../../index.html">ğŸ  Trang chá»§</a>
      <a class="back-link" href="../../../thu-vien-ten/name-library.html">ğŸ“– ThÆ° viá»‡n tÃªn</a>
      <button id="bookmarkBtn" class="back-link">ğŸ“Œ Káº¹p sÃ¡ch</button>
    </div>
    <!-- CENTER -->
    <div class="novel-header top-center">
      <h1 class="novel-title">
        Sá»• Tay ChÄƒn NuÃ´i TrÃºc MÃ£ Cá»§a Kinomoto-Kun
      </h1>
      <div class="novel-meta">
        <span>ChÆ°Æ¡ng 88</span>
      </div>
    </div>

    <!-- RIGHT -->
    <div class="top-right">
      <a class="back-link" href="chuong87.html">â® ChÆ°Æ¡ng trÆ°á»›c</a>
      <a class="back-link" href="chuong89.html">â­ ChÆ°Æ¡ng sau</a>
    </div>
  </div>
</div>

<!-- ================= CONTENT ================= -->
<main>
<div class="content chapter-content">

        <p>Buá»•i tá»‘i Â· Hakone nghá»‰ phÃ©p khu</p>
        <p>â€œBa baâ€¦â€¦â€</p>
        <p>Sakura dÃ¹ng sá»©c tÃºm Fujitaka ba ba á»‘ng tay Ã¡o, biá»ƒu tÃ¬nh ngÆ¡ ngÃ¡c mÃ  nhÃ¬n má»™t phÆ°Æ¡ng hÆ°á»›ng.</p>
        <p>Fujitaka ba ba cong lÆ°ng xem nÃ ng, kiÃªn nháº«n há»i: â€œLÃ m sao váº­y?â€</p>
        <p>Sakura chá»›p Ä‘Ã´i máº¯t, chá»‰ hÆ°á»›ng bÃªn trÃ¡i ngÆ°á»i Ä‘áº¿n ngÆ°á»i Ä‘i nÃ¡o nhiá»‡t phi phÃ m hoáº¡t Ä‘á»™ng khu: â€œCÃ¡i kiaâ€¦â€¦ Thoáº¡t nhÃ¬n giá»‘ng nhÆ° ca ca.â€</p>
        <p>Fujitaka ba ba sá»­ng sá»‘t, giÆ°Æ¡ng máº¯t xem qua Ä‘i, nhÃ¬n Ä‘áº¿n cÃ¡i kia trang Ä‘iá»ƒm Ä‘áº¿n vÄƒn nhÃ£ thÃ¢n sÄ©, quáº§n Ã¡o tháº­p pháº§n chÃº trá»ng thanh niÃªn, trong lÃºc nháº¥t thá»i cÃ³ Ä‘iá»ƒm hoÃ i nghi chÃ­nh mÃ¬nh phÃ¡n Ä‘oÃ¡n.</p>
        <p>NgÃ´â€¦â€¦</p>
        <p>Sonomi a di nhÆ°ng tháº­t ra biáº¿t má»™t Ã­t vá» hÃ´m nay yáº¿n há»™i, nhÃ¬n Touya trang Ä‘iá»ƒm, cáº£m thÃ¡n nÃ³i: â€œTháº­t lÃ  tÆ°Æ¡ng Ä‘Æ°Æ¡ng cÃ³ khÃ­ trÃ ng hÃ i tá»­ Ä‘Ã¢u.â€</p>
        <p>Pháº£i biáº¿t á»Ÿ trÃªn thÆ°Æ¡ng trÆ°á»ng, khÃ­ trÃ ng loáº¡i Ä‘á»“ váº­t nÃ y lÃ  ráº¥t khÃ³ Ä‘áº¿n tá»“n táº¡i.</p>
        <p>Tomoyo gáº­t gáº­t Ä‘áº§u nÃ³i: â€œTouya ca ca vá»«a tháº¥y chÃ­nh lÃ  thá»±c Ä‘Ã¡ng tin cáº­y loáº¡i hÃ¬nh.â€</p>
        <p>CÃ¡ch Ä‘Ã¡m ngÆ°á»i, Ä‘oÃ n ngÆ°á»i Ä‘ang muá»‘n hÆ°á»›ng tá»›i Touya á»Ÿ phÆ°Æ¡ng hÆ°á»›ng Ä‘i qua Ä‘i, liá»n nhÃ¬n Ä‘áº¿n Äƒn máº·c Ã¡o sÆ¡mi Yukito Ä‘i Ä‘áº¿n Touya bÃªn ngÆ°á»i, cÆ°á»i ngÃ¢m ngÃ¢m mÃ  quÆ¡ quÆ¡ trong tay rÃºt thÄƒm trÃºng thÆ°á»Ÿng khoÃ¡n.</p>
        <p>Äá»©ng á»Ÿ kia nguyÃªn báº£n háº¡c trong báº§y gÃ  thanh niÃªn cÆ°á»i má»™t cÃ¡i, trÃªn máº·t khÃ´ng kiÃªn nháº«n bá»±c bá»™i tá»©c kháº¯c tiÃªu tÃ¡n, háº¯n giÆ¡ tay xoa nháº¹ háº¡ Yukito tÃ³c ngáº¯n, rá»“i sau Ä‘Ã³ giÆ¡ tay Ä‘em trÃªn ngÆ°á»i Ã¡o khoÃ¡c cá»Ÿi ra Ä‘Æ°a cho Yukito, cá»Ÿi bá» trÆ°á»ng tá»¥ Ã¡o sÆ¡mi nÃºt tay Ã¡o má»™t chÃºt Ä‘em mÃ u Ä‘en Ã¡o sÆ¡mi vÃ£n lÃªn, Ä‘i Ä‘áº¿n cá»¥c táº©y báº¯n ra Ä‘Ã¡nh quáº§y hÃ ng thÆ°á»£ng nÃ³i vÃ i cÃ¢u.</p>
        <p>â€œAi? Ca ca lÃ  cÃ¹ng Yukito ca ca cÃ¹ng nhau ra tá»›i chÆ¡i sao?â€ Sakura chá»›p chá»›p máº¯t.</p>
        <p>SÃ¡ng nay ra cá»­a thá»i Ä‘iá»ƒm ca ca cÃ²n nÃ³i chÃ­nh mÃ¬nh khÃ´ng ráº£nh! XÃº ca ca!</p>
        <p>Fujitaka ba ba trong máº¯t lÆ°á»›t qua má»™t tia Ã½ cÆ°á»i cÃ¹ng vui má»«ng, sau Ä‘Ã³ lÃ´i kÃ©o Sakura tay nÃ³i: â€œBÃªn kia ngÆ°á»i tá»±a há»“ ráº¥t nhiá»u, chen vÃ o Ä‘i khÃ´ng quÃ¡ dá»… dÃ ng bá»™ dÃ¡ng.â€</p>
        <p>Sakura nhÃ¬n tuy ráº±ng Ä‘Ã­ch xÃ¡c ngÆ°á»i tÆ°Æ¡ng Ä‘á»‘i nhiá»u nhÆ°ng cÅ©ng cÃ²n tá»‘t hoáº¡t Ä‘á»™ng khu, cÃ¡i hiá»ƒu cÃ¡i khÃ´ng: â€œâ€¦â€¦ LÃ  nhÆ° tháº¿ nÃ y sao?â€</p>
        <p>Cha con hai khi nÃ³i chuyá»‡n, Touya Ä‘Ã£ cáº¥p quáº§y hÃ ng lÃ£o báº£n thanh toÃ¡n tiá»n, khom lÆ°ng cáº§m tÆ°á»£ng má»™c táº¯c xáº¡ kÃ­ch â–¡â–¡.</p>
        <p>Vá»‘n nÃªn lÃ  quáº§n Ã¡o khÃ´ng chÃºt cáº©u tháº£ á»Ÿ chÃ­nh thá»©c trÆ°á»ng há»£p thÃ´i bÃ´i hoÃ¡n tráº£n trang pháº«n, nhÆ°ng á»Ÿ Touya cá»Ÿi Ã¡o khoÃ¡c kÃ©o xuá»‘ng nÆ¡ vÃ£n khá»Ÿi cá»• tay Ã¡o sau, cÃ¡i loáº¡i nÃ y mang theo chÃºt tÃ¹y tÃ­nh bá»«a bÃ£i â€œHungâ€ hÃ²a tan khÃ´ng há»£p nhau tinh xáº£o vÄƒn nhÃ£, lÃ m nháº­n thá»©c Touya ngÆ°á»i khÃ´ng khá»i sinh ra má»™t loáº¡i . a, Ä‘Ã¢y má»›i lÃ  háº¯n cáº£m giÃ¡c.</p>
        <p>MÃ  Ä‘Æ°Æ¡ng thanh niÃªn nÃ¢ng thÆ°Æ¡ng nháº¯m chuáº©n, thon dÃ i cÃ¡nh tay duá»—i thÃ¢n, cÆ¡ báº¯p hÆ¡i hÆ¡i phá»“ng lÃªn cÄƒng tháº³ng mÃ u Ä‘en Ã¡o sÆ¡mi váº£i dá»‡t khi, má»™t loáº¡i thÃ nh niÃªn nam tÃ­nh má»›i cÃ³ thá»ƒ cÃ³ Ä‘Æ°á»£c hormone tá»©c kháº¯c triá»ƒn lá»™ mÃ  ra.</p>
        <p>Sonomi khÃ´ng khá»i giÆ¡ tay che láº¡i gÆ°Æ¡ng máº·t, nháº¹ giá»ng nÃ³i: â€œAâ€¦â€¦ NhÆ° váº­y Touya khÃ´ng biáº¿t vá» sau sáº½ mÃª Ä‘áº£o nhiá»u Ã­t ná»¯ hÃ i tá»­ Ä‘Ã¢u.â€</p>
        <p>Tomoyo DV mÃ n áº£nh kÃ©o gáº§n khoáº£ng cÃ¡ch, cÅ©ng phá»§ng gÆ°Æ¡ng máº·t nháº¹ giá»ng nÃ³i: â€œAâ€¦â€¦ Yukito ca máº·t Ä‘á» bá»™ dÃ¡ng cÅ©ng thá»±c Ä‘Ã¡ng yÃªu Ä‘Ã¢u.â€</p>
        <p>Touya ca ca nháº¥t Ä‘á»‹nh sáº½ Ä‘á»‘i nÃ y Ä‘oáº¡n video cáº£m tháº¥y há»©ng thÃº Ä‘i?</p>
        <p>KhÃ´ng biáº¿t cÃ³ thá»ƒ hay khÃ´ng trao Ä‘á»•i Ä‘áº¿n Sakura khi cÃ²n nhá» Ä‘Ã¡ng yÃªu áº£nh chá»¥p ï½</p>
        <p>Dá»©t khoÃ¡t lÆ°u loÃ¡t mÃ  máº¥y thÆ°Æ¡ng, quÃ¡n chá»§ so cÃ¡i ngÃ³n tay cÃ¡i, Ä‘em quÃ  táº·ng khu lá»›n nháº¥t cÃ¡i kia mao nhung hÃ¹ng Ã´m ra tá»›i Ä‘Æ°a cho Touya.</p>
        <p>Touya má»™t tay káº¹p ná»­a ngÆ°á»i cao mao nhung hÃ¹ng, má»™t tay lÃ´i kÃ©o Yukito, Yukito trong tay táº¯c Ã´m Touya Ã¡o khoÃ¡c, hai ngÆ°á»i liá»n nhÆ° váº­y má»™t trÆ°á»›c má»™t sau láº¡i hoÃ n toÃ n Ä‘i vÃ o ngÆ°á»i Ä‘áº¿n ngÆ°á»i Ä‘i du khÃ¡ch.</p>
        <p>Sakura ngáº©ng Ä‘áº§u há»i ba ba: â€œBa ba, Ä‘Ãªm nay ngÃ¢m nÆ°á»›c nÃ³ng nÃ³i cÃ²n pháº£i Ä‘i vá» gá»i ca ca sao?â€</p>
        <p>HÃ´m nay lÃ  bá»n há» á»Ÿ Hakone cuá»‘i cÃ¹ng má»™t ngÃ y, vá»‘n dÄ© buá»•i sÃ¡ng Ä‘áº¡i gia thÆ°Æ¡ng lÆ°á»£ng cáº£m tháº¥y Touya cáº£m máº¡o háº£o ráº¥t nhiá»u, váº«n lÃ  muá»‘n Ä‘i phao má»™t láº§n canh . rá»‘t cuá»™c tháº­t váº¥t váº£ tá»›i má»™t láº§n Hakone, tá»•ng muá»‘n thá»ƒ nghiá»‡m thá»ƒ nghiá»‡m.</p>
        <p>KhÃ¡ch sáº¡n ná»™i suá»‘i nÆ°á»›c nÃ³ng cÃ´ng hiá»‡u cÃ¹ng ngoáº¡i canh cáº£m thá»¥ váº«n lÃ  thá»±c báº¥t Ä‘á»“ng.</p>
        <p>Fujitaka ba ba tá»± há»i má»™t chÃºt, rá»“i sau Ä‘Ã³ cÆ°á»i tá»§m tá»‰m nÃ³i: â€œTrá»Ÿ vá» nÃ³i cÃ³ Ä‘iá»ƒm hao phÃ­ thá»i gian, chÃºng ta cáº¥p Touya cÃ²n cÃ³ Yukito mang Ä‘iá»ƒm suá»‘i nÆ°á»›c nÃ³ng váº­t ká»· niá»‡m trá»Ÿ vá» háº£o.â€</p>
        <p>â€œÄÃºng rá»“i, phÃ­a trÆ°á»›c giá»‘ng nhÆ° cÃ²n nÃ³i lÃªn quÃ¡ suá»‘i nÆ°á»›c nÃ³ng trá»©ngâ€¦â€¦â€</p>
        <p>â€œÃ‚n Ã¢n! CÃ²n cÃ³ suá»‘i nÆ°á»›c nÃ³ng nÆ°á»›c trÃ¡i cÃ¢yâ€¦â€¦â€</p>
        <p>â€¦â€¦</p>
        <p>â€œHáº¯t xÃ¬!â€</p>
        <p>Äi tá»›i Ä‘i tá»›i, Touya Ä‘á»™t nhiÃªn Ä‘Ã¡nh cÃ¡i háº¯t xÃ¬.</p>
        <p>Yukito lo láº¯ng nÃ³i: â€œLÃ  cáº£m máº¡o cÃ²n khÃ´ng cÃ³ háº£o toÃ n sao?â€</p>
        <p>Touya biá»ƒu tÃ¬nh ngÆ°ng trá»ng nÃ³i: â€œHÃ¬nh nhÆ° lÃ .â€</p>
        <p>Yukito nghe váº­y liá»n muá»‘n trÃ¡nh thoÃ¡t khai Touya tay, tiáº¿p nháº­n Touya trong tay mao nhung hÃ¹ng lÃ m Touya Ä‘em Ã¡o khoÃ¡c máº·c vÃ o.</p>
        <p>Touya trá»Ÿ tay báº¯t láº¥y Yukito tay, lÃ´i kÃ©o Yukito cháº¡y cháº­m hai bÆ°á»›c tá»›i gáº§n Ä‘áº§u háº»m chá»— ráº½ Ä‘á»‹a phÆ°Æ¡ng, náº¯m láº¥y Yukito sau cá»• hÃ´n lÃªn Ä‘i.</p>
        <p>NgÃ¢y thÆ¡ cháº¥t phÃ¡c mao nhung hÃ¹ng tiÃªn sinh vÃ´ tá»™i mÃ  gá»¥c xuá»‘ng hai Ä‘iá»u chÃ¢n dÃ i, Ä‘em thanh niÃªn nhÃ³m giao Ä‘iá»‡p thÃ¢n hÃ¬nh che á»Ÿ phÃ­a sau, á»Ÿ ngÆ°á»i Ä‘áº¿n ngÆ°á»i Ä‘i ngáº«u nhiÃªn cÃ³ du khÃ¡ch Ä‘áº§u tá»›i nghi hoáº·c dÆ°á»›i Ã¡nh máº¯t, khÃ³e mÃ´i gá»£i lÃªn giÆ¡ lÃªn Ä‘á»™ cung.</p>
        <p>MÃ n Ä‘Ãªm buÃ´ng xuá»‘ng khÃ´ng trung chá»£t bá»‘c lÃªn khá»Ÿi hoa má»¹ phÃ¡o hoa, lÃªn khÃ´ng phÃ¡o hoa lÃ  cÃ¡i dáº¡ng gÃ¬ hÃ¬nh dáº¡ng, láº¡i lÃ  cÃ¡i dáº¡ng gÃ¬ nhan sáº¯c?</p>
        <p>Yukito khÃ´ng má»Ÿ ra Ä‘Æ°á»£c Ä‘Ã´i máº¯t, cÅ©ng khÃ´ng nghÄ© má»Ÿ, háº¯n toÃ n bá»™ lá»±c chÃº Ã½ Ä‘á»u á»Ÿ Touya trÃªn ngÆ°á»i, á»Ÿ cÃ¡i nÃ y hÃ´n.</p>
        <p>ÄÆ°Æ¡ng cÃ¡i nÃ y hÃ´n mÃ´i rÆ¡i xuá»‘ng thá»i Ä‘iá»ƒm, háº¯n trong Ä‘áº§u Ä‘Ã£ ná»• tung xa so ngÃ¢n hÃ  cÃ²n muá»‘n lá»™ng láº«y phÃ¡o hoa.</p>
        <p>Tháº­t lÃ¢u sau, rá»i mÃ´i.</p>
        <p>Touya cÃ¡i trÃ¡n chá»‘ng Yukito cÃ¡i trÃ¡n, tháº­t lÃ¢u khÃ´ng nÃ³i.</p>
        <p>Äáº§y ngÆ°á»i trÃ³i buá»™c chÃ­nh trang, Äƒn uá»‘ng linh Ä‘Ã¬nh tiá»‡c rÆ°á»£u, khÃ¡ch khÃ­ xa cÃ¡ch Ä‘á»‘i thoáº¡iâ€¦â€¦ CÃ¡i nÃ y lÃ m cho háº¯n bá»«ng tá»‰nh gian cÃ³ loáº¡i trá»Ÿ láº¡i quÃ¡ khá»© máº¥t mÃ¡t cÃ¹ng khÃ´ng mang.</p>
        <p>Náº¿u khÃ´ng pháº£i cá»• Ã¡o chá»— kia cÃ¡i ngÆ°ng tá»¥ Ã¡nh trÄƒng ma lá»±c lÃ´ng chim, Touya cÆ¡ há»“ nháº«n khÃ´ng Ä‘áº¿n yáº¿n há»™i káº¿t thÃºc.</p>
        <p>á» Ä‘á»i trÆ°á»›c chá»‰ cÃ³ háº¯n tráº£i qua quÃ¡ chia lÃ¬a nÄƒm thÃ¡ng, háº¯n xem qua vÃ´ sá»‘ trÃ ng phÃ¡o hoa, láº¡i khÃ´ng cÃ³ má»™t thá»‘c sÃ¡ng láº¡n Ä‘á»™c thuá»™c vá» háº¯n.</p>
        <p>MÃ  tá»« giá» trá»Ÿ Ä‘i, Ä‘áº¿n ngÃ y sau thÃ¡ng Ä‘á»•i nÄƒm dá»i, khÃ´ng cÃ²n cÃ³ máº·t khÃ¡c lá»­a khÃ³i cÃ³ thá»ƒ so sÃ¡nh Ä‘Æ°á»£c vá»›i hiá»‡n táº¡i.</p>
        <p>Thanh xuÃ¢n lÃ  ngÆ°Æ¡i, tÆ°Æ¡ng lai lÃ  ngÆ°Æ¡i, nhÃ¢n gian phÃ¡o hoa, táº¥t cáº£ lÃ  ngÆ°Æ¡i.</p>
        <p>-------------DFY--------------</p>










































































































































































































































































































































































































































































































































































<!-- ===== NAV DÆ¯á»šI ===== -->
<div class="nav">
      <a class="back-link" href="../index.html">ğŸ“‘ Má»¥c lá»¥c</a>
      <a class="back-link" href="../../../index.html">ğŸ  Trang chá»§</a>
      <a class="back-link" href="../../../thu-vien-ten/name-library.html">ğŸ“– ThÆ° viá»‡n tÃªn</a>
      <a class="back-link" href="chuong87.html">â® ChÆ°Æ¡ng trÆ°á»›c</a>
      <a class="back-link" href="chuong89.html">â­ ChÆ°Æ¡ng sau</a>
</div>
  </main>
<!-- ================= BOOKMARK ================= -->
<script>
const NOVEL_ID = "so-tay-chan-nuoi-truc-ma-cua-kinomoto-kun";
const NOVEL_TITLE = "Sá»• Tay ChÄƒn NuÃ´i TrÃºc MÃ£ Cá»§a Kinomoto-Kun";
const CHAPTER_TITLE = "ChÆ°Æ¡ng 88";
const btn = document.getElementById("bookmarkBtn");
function getBookmarks() {
  return JSON.parse(localStorage.getItem("bookmarks")) || {};
}
function isBookmarked() {
  return !!getBookmarks()[NOVEL_ID];
}
function updateButton() {
  const marked = isBookmarked();
  btn.textContent = marked ? "âœ… ÄÃ£ káº¹p" : "ğŸ“Œ Káº¹p sÃ¡ch";
  btn.classList.toggle("active", marked);
}
function toggleBookmark() {
  const bookmarks = getBookmarks();
  if (bookmarks[NOVEL_ID]) {
    delete bookmarks[NOVEL_ID];
    alert("âŒ ÄÃ£ bá» káº¹p sÃ¡ch");
  } else {
    bookmarks[NOVEL_ID] = {
      novelTitle: NOVEL_TITLE,
      chapterTitle: CHAPTER_TITLE,
      url: location.href,
      time: Date.now()
    };
    alert("ğŸ“Œ ÄÃ£ lÆ°u chÆ°Æ¡ng Ä‘ang Ä‘á»c");
  }
  localStorage.setItem("bookmarks", JSON.stringify(bookmarks));
  updateButton();
}
updateButton();
btn.addEventListener("click", toggleBookmark);
</script>
<!-- ================= HEADER SHRINK ================= -->
<script>
document.addEventListener("DOMContentLoaded", function () {

  /* =========================
     HEADER SHRINK + PADDING
  ========================== */

  const fixedHeader = document.querySelector(".fixed-top");
  const main = document.querySelector("main");

  function adjustMainPadding() {
    if (!fixedHeader || !main) return;
    main.style.paddingTop = fixedHeader.offsetHeight + 20 + "px";
  }

  function handleHeaderShrink() {
    if (!fixedHeader) return;
    fixedHeader.classList.toggle("shrink", window.scrollY > 80);
    adjustMainPadding();
  }

  window.addEventListener("scroll", handleHeaderShrink);
  window.addEventListener("resize", adjustMainPadding);
  adjustMainPadding();


  /* =========================
     SIDEBAR THÆ¯ VIá»†N (TRÃI)
  ========================== */

  const sidebar = document.getElementById("librarySidebar");
  const overlay = document.getElementById("overlay");
  const storyList = document.getElementById("storyList");
  const searchInput = document.getElementById("searchInput");

  function toggleLibrary() {
    if (!sidebar || !overlay) return;
    sidebar.classList.toggle("active");
    overlay.classList.toggle("active");
  }

  window.toggleLibrary = toggleLibrary;

  let storiesData = [];

  fetch("../../../stories.json")
    .then(res => res.json())
    .then(data => {
      storiesData = data;
      renderStories(data);
    })
    .catch(err => console.error("Lá»—i load stories.json:", err));

  function renderStories(data) {
    if (!storyList) return;

    storyList.innerHTML = "";

    const pathParts = window.location.pathname.split("/");
    const currentSlug = pathParts[2];

    data.forEach((story, index) => {
      const li = document.createElement("li");
      li.style.animationDelay = `${Math.min(index * 0.03, 0.3)}s`;

      const a = document.createElement("a");
      a.href = `/web-doc-truyen/stories/${story.slug}/`;
      a.textContent = `${story.title} (${story.chapters} chÆ°Æ¡ng)`;

      if (story.slug === currentSlug) {
        a.style.background = "#e0e7ff";
      }

      li.appendChild(a);
      storyList.appendChild(li);
    });
  }

  if (searchInput) {
    searchInput.addEventListener("input", function () {
      const keyword = this.value.toLowerCase();
      const filtered = storiesData.filter(story =>
        story.title.toLowerCase().includes(keyword)
      );
      renderStories(filtered);
    });
  }


  /* =========================
     SIDEBAR Má»¤C Lá»¤C CHÆ¯Æ NG (PHáº¢I)
  ========================== */

  const chapterSidebar = document.getElementById("chapterSidebar");
  const chapterOverlay = document.getElementById("chapterOverlay");
  const chapterList = document.getElementById("chapterList");

  function toggleChapterMenu() {
    if (!chapterSidebar || !chapterOverlay) return;
    chapterSidebar.classList.toggle("active");
    chapterOverlay.classList.toggle("active");
  }

  window.toggleChapterMenu = toggleChapterMenu;

  if (chapterList) {
    fetch("../index.html")
      .then(res => res.text())
      .then(html => {
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, "text/html");

        const toc = doc.querySelector(".content ul");
        if (!toc) return;

        const currentPage = window.location.pathname.split("/").pop();

        toc.querySelectorAll("li").forEach(li => {
          const a = li.querySelector("a");
          if (!a) return;

          let href = a.getAttribute("href");

          if (href.startsWith("chapter/")) {
            href = href.replace("chapter/", "");
          }

          const newLi = document.createElement("li");
          const newA = document.createElement("a");

          newA.href = href;
          newA.textContent = a.textContent;

          if (href === currentPage) {
            newA.style.background = "#e0e7ff";
          }

          newLi.appendChild(newA);
          chapterList.appendChild(newLi);
        });
      })
      .catch(err => console.error("KhÃ´ng load Ä‘Æ°á»£c má»¥c lá»¥c:", err));
  }

});
</script>
</body>
</html>
