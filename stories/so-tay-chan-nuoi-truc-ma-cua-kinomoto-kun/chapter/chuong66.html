
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
 <title>ChÆ°Æ¡ng 66</title>

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Noto+Serif&family=Playfair+Display:wght@600;700&display=swap"
    rel="stylesheet"
  >

  <!-- Style dÃ¹ng chung -->
  <link rel="stylesheet" href="../style.css">
</head>

<body class="page-chapter">
<body class="page-chapter">

  <!-- ===== NÃšT Má» THÆ¯ VIá»†N (TRÃI) ===== -->
  <div class="menu-toggle" onclick="toggleLibrary()">â˜°</div>

  <div class="overlay" id="overlay" onclick="toggleLibrary()"></div>

  <div class="library-sidebar" id="librarySidebar">
    <div class="library-header">
      ğŸ“š ThÆ° viá»‡n
      <span class="close-btn" onclick="toggleLibrary()">âœ•</span>
    </div>

    <input type="text" id="searchInput" placeholder="TÃ¬m truyá»‡n..." />
    <ul id="storyList"></ul>
  </div>


  <!-- ===== NÃšT Má» Má»¤C Lá»¤C (PHáº¢I) ===== -->
  <div class="chapter-menu-toggle" onclick="toggleChapterMenu()">ğŸ“‘</div>

  <div id="chapterOverlay" class="chapter-overlay" onclick="toggleChapterMenu()"></div>

  <div id="chapterSidebar" class="chapter-sidebar">
    <div class="chapter-sidebar-header">
      ğŸ“š Má»¥c lá»¥c
      <span class="close-btn" onclick="toggleChapterMenu()">âœ•</span>
    </div>

    <ul id="chapterList"></ul>
  </div>
<!-- ================= HEADER ================= -->
<div class="fixed-top">
  <div class="fixed-inner page-chapter">

    <!-- LEFT -->
    <div class="top-left">
      <a class="back-link" href="../index.html">ğŸ“‘ Má»¥c lá»¥c</a>
      <a class="back-link" href="../../../index.html">ğŸ  Trang chá»§</a>
      <a class="back-link" href="../../../thu-vien-ten/name-library.html">ğŸ“– ThÆ° viá»‡n tÃªn</a>
      <button id="bookmarkBtn" class="back-link">ğŸ“Œ Káº¹p sÃ¡ch</button>
    </div>
    <!-- CENTER -->
    <div class="novel-header top-center">
      <h1 class="novel-title">
        Sá»• Tay ChÄƒn NuÃ´i TrÃºc MÃ£ Cá»§a Kinomoto-Kun
      </h1>
      <div class="novel-meta">
        <span>ChÆ°Æ¡ng 66</span>
      </div>
    </div>

    <!-- RIGHT -->
    <div class="top-right">
      <a class="back-link" href="chuong65.html">â® ChÆ°Æ¡ng trÆ°á»›c</a>
      <a class="back-link" href="chuong67.html">â­ ChÆ°Æ¡ng sau</a>
    </div>
  </div>
</div>

<!-- ================= CONTENT ================= -->
<main>
<div class="content chapter-content">

        <p>â€œLÃ m tá»‘t!â€ Sakura cáº¯t Ä‘oáº¡n phÃ¹ng tuyáº¿n, há»©ng thÃº bá»«ng bá»«ng mÃ  giÆ¡ lÃªn chÃ­nh mÃ¬nh HÃ¹ng Báº£o Báº£o, sau Ä‘Ã³â€¦â€¦</p>
        <p>Sakura máº·t triá»u Kero phÆ°Æ¡ng hÆ°á»›ng nÃ¢ng lÃªn HÃ¹ng Báº£o Báº£o, chá»›p chá»›p máº¯t.</p>
        <p>â€œHa ha ha ha ha ha nÃ y quáº£ thá»±c cÃ¹ng Ä‘áº§u to giá»‘ng nhau nhÆ° Ä‘Ãºc sao!â€ TrÃªn ban cÃ´ng phÆ¡i náº¯ng háº¯c long nhÃ£i con Elda cÆ°á»i Ä‘áº¿n lÄƒn lá»™n.</p>
        <p>â€œNgÆ°Æ¡i gia há»a nÃ y, kÃªu ai Ä‘áº§u to a!!!â€ Kero nhÃ©o náº¯m tay, trá»±c tiáº¿p nhÃ o lÃªn Ä‘i cÃ¹ng Elda quay cuá»“ng thÃ nh má»™t Ä‘oÃ n, tá»« phÃ²ng bÃªn nÃ y Ä‘Ã¡nh tá»›i phÃ²ng bÃªn kia, sÃ n nhÃ  thá»‹ch thá»‹ch thá»‹ch mÃ  vang.</p>
        <p>Sakura cÃ ng xem cÃ ng cáº£m tháº¥y trong tay HÃ¹ng Báº£o Báº£o má»™t bá»™ Kero bá»™ dÃ¡ng, Ä‘Ã´i máº¯t giá»‘ng, miá»‡ng giá»‘ng, Ä‘áº§u cÅ©ng ráº¥t giá»‘ngâ€¦â€¦ Ã”.</p>
        <p>â€œÄÃ¢y lÃ  pháº£i lÃ m cáº¥p ngÆ°á»i nÃ o lá»… váº­t sao?â€ Nho nhá» thiáº¿u niÃªn ngá»“i ngay ngáº¯n á»Ÿ trÃªn máº·t bÃ n, ngáº©ng Ä‘áº§u nhÃ¬n Sakura trong tay HÃ¹ng Báº£o Báº£o, â€œTa cÃ³ thá»ƒ cáº£m giÃ¡c Ä‘Æ°á»£c cÃ³ má»™t loáº¡i thá»±c ká»³ láº¡ ma lá»±c.â€</p>
        <p>TrÃ­ cÃ¹ng tiá»ƒu long Ä‘á»u lÃ  trÆ°á»›c hai ngÃ y Sakura vá» nhÃ  gáº·p Ä‘Æ°á»£c, liá»n cÃ¹ng trÆ°á»›c kia phong áº¥n tiá»ƒu tinh linh giá»‘ng nhau, Sakura khÃ´ng cÃ³ nghÄ© nhiá»u liá»n Ä‘em chÃºng nÃ³ mang vá» gia.</p>
        <p>Cháº³ng qua Æ°á»›c phÃ¡p tam chÆ°Æ¡ng bÃªn trong nÃ³i khÃ´ng thá»ƒ Ä‘á»‘i nÃ ng ngÆ°á»i nhÃ  sá»­ dá»¥ng ma phÃ¡p, khÃ´ng thá»ƒ bá»‹ ngÆ°á»i trong nhÃ  phÃ¡t hiá»‡n, cÃ ng khÃ´ng thá»ƒ láº¥y thÆ°Æ¡ng tá»•n nhá»¯ng ngÆ°á»i khÃ¡c.</p>
        <p>Sakura hÆ¡i hÆ¡i Ä‘á» máº·t, nhá» giá»ng nÃ³i: â€œâ€¦â€¦ Thá»±c rÃµ rÃ ng sao?â€</p>
        <p>Kia Syaoran cÅ©ng cÃ³ Ä‘Æ°á»£c ma lá»±c, cÅ©ng cÃ³ thá»ƒ cáº£m giÃ¡c Ä‘Æ°á»£c saoâ€¦â€¦</p>
        <p>â€œChá»‰ lÃ  ma phÃ¡p sinh váº­t Ä‘á»‘i ma lá»±c tÆ°Æ¡ng Ä‘á»‘i máº«n cáº£m mÃ  thÃ´i.â€ Tiá»ƒu thiáº¿u niÃªn lá»… phÃ©p nÃ³i, hÆ¡n ná»¯a tri ká»· mÃ  dá»i Ä‘i Ä‘á» tÃ i, â€œNÃ³i lÃªn, hÃ´m nay tÃ¡c nghiá»‡p cÃ³ khÃ´ng am hiá»ƒu Ä‘á»‹a phÆ°Æ¡ng sao?â€</p>
        <p>â€œA .â€ Sakura má»›i vá»«a muá»‘n nÃ³i gÃ¬, liá»n nghe Ä‘Æ°á»£c ngoÃ i phÃ²ng truyá»n Ä‘áº¿n tiáº¿ng bÆ°á»›c chÃ¢n, ngay sau Ä‘Ã³ truyá»n Ä‘áº¿n tiáº¿ng gÃµ cá»­a.</p>
        <p>â€œSakura? NgÆ°Æ¡i á»Ÿ trÃªn láº§u lÃ m cÃ¡i gÃ¬ sao?â€ Touya thanh Ã¢m truyá»n Ä‘áº¿n.</p>
        <p>Sakura luá»‘ng cuá»‘ng tay chÃ¢n mÃ  cháº¡y tá»›i, Ä‘em Kero cÃ¹ng Elda tráº£o tiáº¿n trong tay che á»Ÿ phÃ­a sau, rÃ³n ra rÃ³n rÃ©n má»Ÿ ra cá»­a phÃ²ng: â€œKhÃ´ngâ€¦â€¦ KhÃ´ng cÃ³ a.â€</p>
        <p>Touya nhÆ°á»›ng mÃ y, sau Ä‘Ã³ duá»—i tay tiáº¿n vÃ o xoa nháº¹ má»™t phen Sakura Ä‘áº§u: â€œNÃ³i lÃªn, tiá»ƒu quÃ¡i thÃº HÃ¹ng Báº£o Báº£o lÃ m tháº¿ nÃ o?â€</p>
        <p>â€œHÃ¹ng Báº£o Báº£oâ€¦â€¦â€ Sakura khÃ´ng tá»± chá»§ Ä‘Æ°á»£c quay Ä‘áº§u nhÃ¬n vá» phÃ­a trÃªn bÃ n phÃ³ng HÃ¹ng Báº£o Báº£o, Touya táº§m máº¯t cÅ©ng dá»«ng á»Ÿ máº·t trÃªn.</p>
        <p>Touya cÆ°á»i kháº½ má»™t tiáº¿ng, nhÆ°á»›ng mÃ y: â€œNáº¿u khÃ´ng muá»‘n ta giÃºp ngÆ°Æ¡i?â€</p>
        <p>Sakura há»“ nghi nhÃ¬n xÃº ca ca liáº¿c máº¯t má»™t cÃ¡i.</p>
        <p>Touya giÆ¡ tay gÃµ má»™t chÃºt Sakura Ä‘áº§u dÆ°a: â€œTa cÃ³ thá»ƒ Ä‘i vÃ o sao?â€</p>
        <p>â€œÄÆ°Æ¡ng nhiÃªn cÃ³ thá»ƒ!â€ Sakura Ä‘Ã´i tay buÃ´ng lá»ng, Ä‘em Kero cÃ¹ng Elda trá»±c tiáº¿p nÃ©m vÃ o tá»§ quáº§n Ã¡o bÃªn cáº¡nh y sá»t.</p>
        <p>Touya Ä‘i vÃ o phÃ²ng.</p>
        <p>TrÃ­ sá»›m Ä‘Ã£ thá»±c thÃ´ng minh mÃ  Ä‘em chÃ­nh mÃ¬nh tÃ ng vÃ o trong ngÄƒn kÃ©o, tatami bÃªn cáº¡nh trÃªn bÃ n phÃ³ng tuy ráº±ng Ä‘Ã¡ng yÃªu nhÆ°ng lÃ  nhÃ¬n qua luÃ´n cÃ³ Ä‘iá»ƒm quÃ¡i HÃ¹ng Báº£o Báº£o.</p>
        <p>Touya khoanh chÃ¢n ngá»“i xuá»‘ng, Ä‘Ã´i tay nhÃ©o HÃ¹ng Báº£o Báº£o táº£ há»¯u quan sÃ¡t má»™t chÃºt, tráº§m máº·c má»™t lÃ¡t, há»i ngá»“i á»Ÿ bÃªn cáº¡nh Sakura: â€œNgÆ°Æ¡i dá»±a theo cÃ¡i kia bÃºp bÃª váº£i lÃ m?â€</p>
        <p>Sakura trÃªn máº·t tá»©c kháº¯c cháº£y xuá»‘ng nÆ°á»›c máº¯t thÃ nh sÃ´ng.</p>
        <p>Ngay cáº£ ca ca cÅ©ng nhÆ° váº­y cáº£m tháº¥y saoâ€¦â€¦</p>
        <p>â€œÄáº§u cÃ¹ng thÃ¢n thá»ƒ nhÆ°ng tháº­t ra khÃ´ng cÃ³ gÃ¬ váº¥n Ä‘á».â€ Touya nhÃ©o háº¡ tai gáº¥u, â€œLá»— tai cÃ³ pháº£i hay khÃ´ng lá»›n Ä‘iá»ƒm? HÃ¹ng lá»— tai sáº½ cÃ ng tiá»ƒu má»™t chÃºt.â€</p>
        <p>â€œAi? LÃ  nhÆ° tháº¿ nÃ y sao?â€ Sakura thÃ² qua tá»›i, cÃ¡i hiá»ƒu cÃ¡i khÃ´ng mÃ  nhÃ¬n má»™t há»“i.</p>
        <p>Touya há»i: â€œMay há»™p báº£n thuyáº¿t minh Ä‘Ã¢u?â€</p>
        <p>â€œA, ta tÃ¬m xem!â€</p>
        <p>LuÃ´n luÃ´n tÃ¹y tiá»‡n Sakura vá»™i vÃ ng Ä‘i phiÃªn khÃ´ng biáº¿t nhÃ©t Ä‘i nÆ¡i nÃ o báº£n thuyáº¿t minh.</p>
        <p>Liá»n á»Ÿ nÃ ng xoay ngÆ°á»i thá»i Ä‘iá»ƒm, Touya tay phá»§ lÃªn HÃ¹ng Báº£o Báº£o, ma phÃ¡p hÆ¡i thá»Ÿ chá»£t lÃ³e lÆ°á»›t qua.</p>
        <p>Sakura cáº£m giÃ¡c Ä‘Æ°á»£c cÃ¡i gÃ¬ nÃ¢ng lÃªn Ä‘áº§u, nhÆ°ng lÃ  láº¡i cáº£m giÃ¡c giá»‘ng nhÆ° khÃ´ng cÃ³ gÃ¬, cÃºi Ä‘áº§u tiáº¿p tá»¥c tÃ¬m kiáº¿m lÃªn.</p>
        <p>Touya cÃºi Ä‘áº§u nhÃ¬n HÃ¹ng Báº£o Báº£o, trong lÃ²ng há»« nháº¹ má»™t tiáº¿ng.</p>
        <p>LÃ½ gia tiá»ƒu tá»­ thÃºiâ€¦â€¦ Náº¿u lÃ  dÃ¡m xuá»‘ng tay khÃ´ng cÃ¡i náº·ng nháº¹ thÆ°Æ¡ng tá»›i rá»“i Sakura thÃ¢n thá»§ lÃ m lá»… váº­t, cÃ³ ngÆ°Æ¡i Ä‘áº¹p.</p>
        <p>Cáº£m giÃ¡c bÃªn cáº¡nh táº§m máº¯t, Touya quay Ä‘áº§u cÃ¹ng ngÄƒn kÃ©o khe há»Ÿ cáº·p máº¯t kia bá»‘n máº¯t nhÃ¬n nhau.</p>
        <p>TrÃ­ Ã¡nh máº¯t láº­p loÃ¨ má»™t chÃºt, láº§n ná»¯a lÃ¹i vá» trong ngÄƒn kÃ©o.</p>
        <p>â€œCa ca, tÃ¬m Ä‘Æ°á»£c rá»“i!â€ Sakura Ä‘em báº£n thuyáº¿t minh Ä‘Æ°a tá»›i Touya trÆ°á»›c máº·t.</p>
        <p>Touya tiáº¿p nháº­n báº£n thuyáº¿t minh, dá»«ng má»™t chÃºt, khÃ´ng há» Ä‘i xem trÃ­ nÆ¡i ngÄƒn kÃ©o.</p>
        <p>â€œNháº¡, ngÆ°Æ¡i Ä‘em nÃ y hai cÃ¡i lá»— tai dá»¡ xuá»‘ng, hÆ°á»›ng bÃªn trong chiáº¿t má»™t Ã­t, sau Ä‘Ã³ hÆ°á»›ng nÆ¡i nÃ y phÃ¹ngâ€¦â€¦â€</p>
        <p>â€œÃ‚n Ã¢nâ€¦â€¦â€</p>
        <p>Tuy ráº±ng Touya ngÃ y thÆ°á»ng luÃ´n lÃ  thÃ­ch khi dá»… Sakura, nhÆ°ng lÃ  nhÆ° váº­y huynh muá»™i hai cÃ¡i má»™t cÃ¡i giÃ¡o má»™t cÃ¡i há»c cáº£nh tÆ°á»£ng, láº¡i á»Ÿ Sakura trong trÃ­ nhá»› xuáº¥t hiá»‡n quÃ¡ vÃ´ sá»‘ láº§n.</p>
        <p>â€¦â€¦</p>
        <p>Ä‚n qua cÆ¡m trÆ°a, Touya ra cá»­a chuáº©n bá»‹ Ä‘i lÃ m cÃ´ng, cÅ©ng khÃ´ng tiá»‡n Ä‘Æ°á»ng mÃ  Ä‘i Ä‘áº¿n Yukito gia quáº£i hÃ´m nay khÃ´ng cÃ³ gÃ¬ sá»± lÃ m Yukito cÃ¹ng Ä‘i.</p>
        <p>Yukito trong tay cáº§m má»™t tÃºi Pocky, tháº¥y Touya láº¡i Ä‘Ã¢y, thuáº­n tay táº¯c má»™t cÃ¢y cho háº¯n.</p>
        <p>Touya trá»±c tiáº¿p cÃºi Ä‘áº§u ngáº­m á»Ÿ trong miá»‡ng, sau Ä‘Ã³ Ä‘em trÃªn tay Ä‘á»“ váº­t Ä‘Æ°a cho Yukito, bá»Ÿi vÃ¬ trong miá»‡ng Äƒn Ä‘á»“ váº­t, thanh Ã¢m cÃ³ chÃºt hÃ m hÃ m há»“ há»“: â€œÄÃ¢y lÃ  ba ba Ä‘i cÃ´ng tÃ¡c mang vá» tá»›i Ä‘áº·c sáº£n, ngÆ°Æ¡i trÆ°á»›c láº¥y vá» trong nhÃ  Ä‘i.â€</p>
        <p>Yukito tiáº¿p nháº­n tá»›i, cháº¡y mau hai bÆ°á»›c Ä‘em tÃºi bá» vÃ o phÃ²ng khÃ¡ch, nghÄ© nghÄ©, láº¡i láº¥y ra tá»›i cÃºi Ä‘áº§u xem há»™p thÆ°á»£ng thuyáº¿t minh.</p>
        <p>Äi theo Ä‘i vÃ o Touya trong miá»‡ng nghiÃªng nghiÃªng cáº¯n Pocky, má»™t tay cáº¯m tÃºi, áº¥n Yukito Ä‘áº§u xoa nháº¹ hai thanh: â€œMuá»‘n phÃ³ng Æ°á»›p láº¡nh.â€</p>
        <p>Liá»n á»Ÿ Yukito cáº§m Ä‘Ã³ng gÃ³i há»™p chuáº©n bá»‹ Ä‘á»©ng lÃªn Ä‘i phÃ²ng báº¿p khi, Touya cÃºi ngÆ°á»i, gÆ°Æ¡ng máº·t hÆ¡i sÆ°á»n, áº¥m Ã¡p cÃ¡nh mÃ´i lÆ°á»›t qua Yukito gÆ°Æ¡ng máº·t, rÆ¡i xuá»‘ng má»™t cÃ¡i nháº¹ nhÆ° lÃ´ng chim hÃ´n.</p>
        <p>Yukito láº­p tá»©c sá»¯ng sá» á»Ÿ táº¡i chá»—, gÆ°Æ¡ng máº·t bá»‘c hÆ¡i khá»Ÿi nhiá»‡t khÃ­.</p>
        <p>â€œNgÆ°Æ¡iâ€¦â€¦ Cáº£m táº¡ lá»… váº­t cÅ©ng khÃ´ng cáº§n nhÆ° váº­yâ€¦â€¦â€</p>
        <p>TrÆ°á»›c nay am hiá»ƒu tháº³ng cáº§u Yukito, thÃ¬nh lÃ¬nh bá»‹ tháº³ng cáº§u Ä‘Ã¡nh trÃºng cÅ©ng lÃ  sáº½ Ä‘áº§u Ä‘Æ°á»ng ngáº¯n.</p>
        <p>Touya Ä‘á»©ng tháº³ng thÃ¢n mÃ¬nh, váº» máº·t tháº£n nhiÃªn.</p>
        <p>â€œNgÆ°Æ¡i liá»n á»Ÿ ta bÃªn ngÆ°á»i, ta tÆ°á»Ÿng hÃ´n ngÆ°Æ¡i khÃ´ng pháº£i thá»±c bÃ¬nh thÆ°á»ng sá»± tÃ¬nh sao?â€</p>
        <p>-------------DFY--------------</p>






































































































































































































































































































































































































































































































































































<!-- ===== NAV DÆ¯á»šI ===== -->
<div class="nav">
      <a class="back-link" href="../index.html">ğŸ“‘ Má»¥c lá»¥c</a>
      <a class="back-link" href="../../../index.html">ğŸ  Trang chá»§</a>
      <a class="back-link" href="../../../thu-vien-ten/name-library.html">ğŸ“– ThÆ° viá»‡n tÃªn</a>
      <a class="back-link" href="chuong65.html">â® ChÆ°Æ¡ng trÆ°á»›c</a>
      <a class="back-link" href="chuong67.html">â­ ChÆ°Æ¡ng sau</a>
</div>
  </main>
<!-- ================= BOOKMARK ================= -->
<script>
const NOVEL_ID = "so-tay-chan-nuoi-truc-ma-cua-kinomoto-kun";
const NOVEL_TITLE = "Sá»• Tay ChÄƒn NuÃ´i TrÃºc MÃ£ Cá»§a Kinomoto-Kun";
const CHAPTER_TITLE = "ChÆ°Æ¡ng 66";
const btn = document.getElementById("bookmarkBtn");
function getBookmarks() {
  return JSON.parse(localStorage.getItem("bookmarks")) || {};
}
function isBookmarked() {
  return !!getBookmarks()[NOVEL_ID];
}
function updateButton() {
  const marked = isBookmarked();
  btn.textContent = marked ? "âœ… ÄÃ£ káº¹p" : "ğŸ“Œ Káº¹p sÃ¡ch";
  btn.classList.toggle("active", marked);
}
function toggleBookmark() {
  const bookmarks = getBookmarks();
  if (bookmarks[NOVEL_ID]) {
    delete bookmarks[NOVEL_ID];
    alert("âŒ ÄÃ£ bá» káº¹p sÃ¡ch");
  } else {
    bookmarks[NOVEL_ID] = {
      novelTitle: NOVEL_TITLE,
      chapterTitle: CHAPTER_TITLE,
      url: location.href,
      time: Date.now()
    };
    alert("ğŸ“Œ ÄÃ£ lÆ°u chÆ°Æ¡ng Ä‘ang Ä‘á»c");
  }
  localStorage.setItem("bookmarks", JSON.stringify(bookmarks));
  updateButton();
}
updateButton();
btn.addEventListener("click", toggleBookmark);
</script>
<!-- ================= HEADER SHRINK ================= -->
<script>
document.addEventListener("DOMContentLoaded", function () {

  /* =========================
     HEADER SHRINK + PADDING
  ========================== */

  const fixedHeader = document.querySelector(".fixed-top");
  const main = document.querySelector("main");

  function adjustMainPadding() {
    if (!fixedHeader || !main) return;
    main.style.paddingTop = fixedHeader.offsetHeight + 20 + "px";
  }

  function handleHeaderShrink() {
    if (!fixedHeader) return;
    fixedHeader.classList.toggle("shrink", window.scrollY > 80);
    adjustMainPadding();
  }

  window.addEventListener("scroll", handleHeaderShrink);
  window.addEventListener("resize", adjustMainPadding);
  adjustMainPadding();


  /* =========================
     SIDEBAR THÆ¯ VIá»†N (TRÃI)
  ========================== */

  const sidebar = document.getElementById("librarySidebar");
  const overlay = document.getElementById("overlay");
  const storyList = document.getElementById("storyList");
  const searchInput = document.getElementById("searchInput");

  function toggleLibrary() {
    if (!sidebar || !overlay) return;
    sidebar.classList.toggle("active");
    overlay.classList.toggle("active");
  }

  window.toggleLibrary = toggleLibrary;

  let storiesData = [];

  fetch("../../../stories.json")
    .then(res => res.json())
    .then(data => {
      storiesData = data;
      renderStories(data);
    })
    .catch(err => console.error("Lá»—i load stories.json:", err));

  function renderStories(data) {
    if (!storyList) return;

    storyList.innerHTML = "";

    const pathParts = window.location.pathname.split("/");
    const currentSlug = pathParts[2];

    data.forEach((story, index) => {
      const li = document.createElement("li");
      li.style.animationDelay = `${Math.min(index * 0.03, 0.3)}s`;

      const a = document.createElement("a");
      a.href = `/web-doc-truyen/stories/${story.slug}/`;
      a.textContent = `${story.title} (${story.chapters} chÆ°Æ¡ng)`;

      if (story.slug === currentSlug) {
        a.style.background = "#e0e7ff";
      }

      li.appendChild(a);
      storyList.appendChild(li);
    });
  }

  if (searchInput) {
    searchInput.addEventListener("input", function () {
      const keyword = this.value.toLowerCase();
      const filtered = storiesData.filter(story =>
        story.title.toLowerCase().includes(keyword)
      );
      renderStories(filtered);
    });
  }


  /* =========================
     SIDEBAR Má»¤C Lá»¤C CHÆ¯Æ NG (PHáº¢I)
  ========================== */

  const chapterSidebar = document.getElementById("chapterSidebar");
  const chapterOverlay = document.getElementById("chapterOverlay");
  const chapterList = document.getElementById("chapterList");

  function toggleChapterMenu() {
    if (!chapterSidebar || !chapterOverlay) return;
    chapterSidebar.classList.toggle("active");
    chapterOverlay.classList.toggle("active");
  }

  window.toggleChapterMenu = toggleChapterMenu;

  if (chapterList) {
    fetch("../index.html")
      .then(res => res.text())
      .then(html => {
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, "text/html");

        const toc = doc.querySelector(".content ul");
        if (!toc) return;

        const currentPage = window.location.pathname.split("/").pop();

        toc.querySelectorAll("li").forEach(li => {
          const a = li.querySelector("a");
          if (!a) return;

          let href = a.getAttribute("href");

          if (href.startsWith("chapter/")) {
            href = href.replace("chapter/", "");
          }

          const newLi = document.createElement("li");
          const newA = document.createElement("a");

          newA.href = href;
          newA.textContent = a.textContent;

          if (href === currentPage) {
            newA.style.background = "#e0e7ff";
          }

          newLi.appendChild(newA);
          chapterList.appendChild(newLi);
        });
      })
      .catch(err => console.error("KhÃ´ng load Ä‘Æ°á»£c má»¥c lá»¥c:", err));
  }

});
</script>
</body>
</html>
