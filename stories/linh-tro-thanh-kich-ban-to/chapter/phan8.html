
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
 <title>Pháº§n 8</title>

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Noto+Serif&family=Playfair+Display:wght@600;700&display=swap"
    rel="stylesheet"
  >

  <!-- Style dÃ¹ng chung -->
  <link rel="stylesheet" href="../style.css">
</head>

<body class="page-chapter">
<body class="page-chapter">

  <!-- ===== NÃšT Má» THÆ¯ VIá»†N (TRÃI) ===== -->
  <div class="menu-toggle" onclick="toggleLibrary()">â˜°</div>

  <div class="overlay" id="overlay" onclick="toggleLibrary()"></div>

  <div class="library-sidebar" id="librarySidebar">
    <div class="library-header">
      ğŸ“š ThÆ° viá»‡n
      <span class="close-btn" onclick="toggleLibrary()">âœ•</span>
    </div>

    <input type="text" id="searchInput" placeholder="TÃ¬m truyá»‡n..." />
    <ul id="storyList"></ul>
  </div>


  <!-- ===== NÃšT Má» Má»¤C Lá»¤C (PHáº¢I) ===== -->
  <div class="chapter-menu-toggle" onclick="toggleChapterMenu()">ğŸ“‘</div>

  <div id="chapterOverlay" class="chapter-overlay" onclick="toggleChapterMenu()"></div>

  <div id="chapterSidebar" class="chapter-sidebar">
    <div class="chapter-sidebar-header">
      ğŸ“š Má»¥c lá»¥c
      <span class="close-btn" onclick="toggleChapterMenu()">âœ•</span>
    </div>

    <ul id="chapterList"></ul>
  </div>
<!-- ================= HEADER ================= -->
<div class="fixed-top">
  <div class="fixed-inner page-chapter">

    <!-- LEFT -->
    <div class="top-left">
      <a class="back-link" href="../index.html">ğŸ“‘ Má»¥c lá»¥c</a>
      <a class="back-link" href="../../../index.html">ğŸ  Trang chá»§</a>
      <a class="back-link" href="../../../thu-vien-ten/name-library.html">ğŸ“– ThÆ° viá»‡n tÃªn</a>
      <button id="bookmarkBtn" class="back-link">ğŸ“Œ Káº¹p sÃ¡ch</button>
    </div>
    <!-- CENTER -->
    <div class="novel-header top-center">
      <h1 class="novel-title">
        Linh Trá»Ÿ ThÃ nh Ká»‹ch Báº£n Tá»• ã€Xem áº¢nh Thá»ƒã€‘
      </h1>
      <div class="novel-meta">
        <span>Pháº§n 8</span>
      </div>
    </div>

    <!-- RIGHT -->
    <div class="top-right">
      <a class="back-link" href="phan7.html">â® ChÆ°Æ¡ng trÆ°á»›c</a>
      <a class="back-link" href="phan9.html">â­ ChÆ°Æ¡ng sau</a>
    </div>
  </div>
</div>

<!-- ================= CONTENT ================= -->
<main>
<div class="content chapter-content">

        <p>ÄÃ£ muá»‘n trao quyá»n, hÃ nh vÄƒn khÃ´ng tá»‘t, khÃ´ng cáº§n mang Ä‘áº§u Ã³c xem</p>
        <p>ã€ báº¯t Ä‘áº§u xem áº£nhã€‘</p>
        <p>ã€Kaito vÃ¬ phá»¥ thÃ¢n trá»Ÿ thÃ nh SiÃªu Ä‘áº¡o chÃ­ch Kid, linh Ä‘i tÃ¬m Kaito, sÆ° huynh Ä‘á»‡ gáº·p máº·t, linh lÃ m háº¯n cÃ³ nguy hiá»ƒm cÃ³ thá»ƒ Ä‘i tÃ¬m Kenji bá»n há», Kaito há»i chÃ¹a giáº¿ng, sá»£ thiÃªm báº£o máº­t hiá»‡p nghá»‹ khÃ´ng há»i, khÃ´ng thá»ƒ trÃªu vÃ o! ã€‘</p>
        <p>Kaito: Â·Â·Â· a, quay ngá»±a</p>
        <p>Hagiwara Kenji "Tiá»ƒu Kaito, cÃ³ viá»‡c liá»n tá»›i tÃ¬m chÃºng ta a!"</p>
        <p>Kuroba Kaito' Ä‘Ã£ biáº¿t ï½Hagiwara cáº£nh sÃ¡t!! '</p>
        <p>Nakamori Ginzo: Kuroba quÃ¢n, nguyÃªn lai khÃ´ng pháº£i ngoÃ i Ã½ muá»‘n sao? Kaito kia tiá»ƒu tá»­ Â·Â·Â·</p>
        <p>Nakamori Aoko: Kaito nguyÃªn lai Â·Â·Â·</p>
        <p>ã€JinpeiKenji tra Ã¡n tá»­, Noah xuáº¥t hiá»‡n, Hiromitsu mang theo tÃ¢n báº£o máº­t hiá»‡p nghá»‹ xuáº¥t hiá»‡n "Äáº¿n Ä‘Ã¢y Ä‘i! CÅ©ng khÃ´ng pháº£i láº§n Ä‘áº§u tiÃªn!" Hai ngÆ°á»i vÃ´ ngá»¯ ã€‘</p>
        <p>Kuroba Kaito "Phá»‘c ï½ ha ha ha ha ha ha ha ha ha ha Â·Â·Â· hai vá»‹ cáº£nh sÃ¡t háº£o tháº£m a"</p>
        <p>Sato, Takagi chá» cáº£nh sÃ¡t Ä‘á»u Ä‘ang cÆ°á»i ' ráº¥t Ä‘á»“ng tÃ¬nh bá»n há», nhÆ°ng tháº­t sá»± háº£o háº£o cÆ°á»i.</p>
        <p>Jinpei cÃ¹ng Kenji "Â·Â·Â·Â·Â·Â·Â·'</p>
        <p>ã€ linh vÃ¬ cá»©u ngÆ°á»i mang theo bom cÃ¹ng ngÆ°á»i Ä‘Ã¡nh nhau, Hiromitsu sinh khÃ­, vÃ´ tá»™i lÃ£o nhÃ¢n bá»‹ dáº«n Ä‘i, cá»©u ngÆ°á»i anh hÃ¹ng khÃ´ng bá»‹ khen ngá»£i láº¡i bá»‹ máº¯ng má»™t Ä‘á»‘n ã€‘</p>
        <p>Morofushi Hiromitsu khÃ­ cÆ°á»i" zero! "</p>
        <p>Furuya Rei má»™t cÃ¡i giáº­t mÃ¬nh" thá»±c xin lá»—i! Ta sai rá»“i! "</p>
        <p>Hagiwara Kenji sÃ¢u kÃ­n" ta sai rá»“i, láº§n sau cÃ²n pháº¡m, tiá»ƒu Furuya, ngÆ°Æ¡i lÃ  káº» tÃ¡i pháº¡m! "</p>
        <p>Matsuda Jinpei" cÅ©ng khÃ´ng pháº£i lÃ  sao? TÃ³c vÃ ng há»—n Ä‘áº£n! "</p>
        <p>ã€Date truy pháº¡m nhÃ¢n, pháº¡m nhÃ¢n bá»©c nÃ³ng náº£y Ä‘Ã¢m qua Ä‘i, Kenji cÅ©ng Ä‘Ã¢m qua Ä‘i, Ä‘em ngÆ°á»i báº¯t linh á»Ÿ phÃ²ng báº¡o pha lÃª ná»™i, Date Ã©p há»i bá»n há», linh trá»‘n trÃ¡nh cho cÃ¡i xÃ¡n láº¡n tÆ°Æ¡i cÆ°á»i, Date theo báº£n nÄƒng trá»Ÿ vá» cÃ¡i tÆ°Æ¡i cÆ°á»i; Matsuda: Giáº£o hoáº¡t! Hiromitsu: KhÃ´ng biáº¿t há»‘i cáº£i! Kenji: A! zero xong rá»“i, á»Ÿ kia phÃ­a trÆ°á»›c, bá»n há» kháº£ nÄƒng cÅ©ng xong rá»“i; Â·Â·Â· Ä‘em ngÆ°á»i báº¯t láº¥y, tá»±a nhÆ° Ä‘áº¡i hÃ¬nh chia cáº¯t hiá»‡n trÆ°á»ng lÃ m Sato cÃ¹ng Takagi trá»£n máº¯t hÃ¡ há»‘c má»“m, cháº³ng sá»£ á»Ÿ rÃ¹ng mÃ¬nh, Hiromitsu váº«n lÃ  Ä‘em mÅ© lÆ°á»¡i trai hÆ°á»›ng linh trÃªn Ä‘áº§u má»™t Ã¡p, linh láº·ng láº½ Ä‘i rá»“i. ã€‘</p>
        <p>Date" cÃ¡c ngÆ°Æ¡i, liá»n chÆ°a nÃ³i cÃ¡i gÃ¬ nÃ³i sao? Láº¡i Ä‘em ta bÃ i trá»« bÃªn ngoÃ i a! "</p>
        <p>Máº¥y ngÆ°á»i trÄƒm miá»‡ng má»™t lá»i" thá»±c xin lá»—i, chÃºng ta sai rá»“i! "</p>
        <p>Furuya Rei" lá»›p trÆ°á»Ÿng, chÃºng ta khÃ´ng Ä‘em ngÆ°Æ¡i xáº£ tiáº¿n vÃ o lÃ  bá»Ÿi vÃ¬ ngÆ°Æ¡i cÃ³ gia tháº¥t a! '</p>
        <p>Hagiwara Kenji "ChÃ­nh lÃ , váº¡n nháº¥t xáº£y ra chuyá»‡n lÃ m sao bÃ¢y giá»."</p>
        <p>Date "CÃ¡c ngÆ°Æ¡i a!"</p>
        <p>Mau káº¿t thÃºc liá»n hai ba thiÃªn Ä‘i</p>







<!-- ===== NAV DÆ¯á»šI ===== -->
<div class="nav">
      <a class="back-link" href="../index.html">ğŸ“‘ Má»¥c lá»¥c</a>
      <a class="back-link" href="../../../index.html">ğŸ  Trang chá»§</a>
      <a class="back-link" href="../../../thu-vien-ten/name-library.html">ğŸ“– ThÆ° viá»‡n tÃªn</a>
      <a class="back-link" href="phan7.html">â® ChÆ°Æ¡ng trÆ°á»›c</a>
      <a class="back-link" href="phan9.html">â­ ChÆ°Æ¡ng sau</a>
</div>
  </main>
<!-- ================= BOOKMARK ================= -->
<script>
const NOVEL_ID = "linh-tro-thanh-kich-ban-to";
const NOVEL_TITLE = "Linh Trá»Ÿ ThÃ nh Ká»‹ch Báº£n Tá»• ã€Xem áº¢nh Thá»ƒã€‘";
const CHAPTER_TITLE = "Pháº§n 8";
const btn = document.getElementById("bookmarkBtn");
function getBookmarks() {
  return JSON.parse(localStorage.getItem("bookmarks")) || {};
}
function isBookmarked() {
  return !!getBookmarks()[NOVEL_ID];
}
function updateButton() {
  const marked = isBookmarked();
  btn.textContent = marked ? "âœ… ÄÃ£ káº¹p" : "ğŸ“Œ Káº¹p sÃ¡ch";
  btn.classList.toggle("active", marked);
}
function toggleBookmark() {
  const bookmarks = getBookmarks();
  if (bookmarks[NOVEL_ID]) {
    delete bookmarks[NOVEL_ID];
    alert("âŒ ÄÃ£ bá» káº¹p sÃ¡ch");
  } else {
    bookmarks[NOVEL_ID] = {
      novelTitle: NOVEL_TITLE,
      chapterTitle: CHAPTER_TITLE,
      url: location.href,
      time: Date.now()
    };
    alert("ğŸ“Œ ÄÃ£ lÆ°u chÆ°Æ¡ng Ä‘ang Ä‘á»c");
  }
  localStorage.setItem("bookmarks", JSON.stringify(bookmarks));
  updateButton();
}
updateButton();
btn.addEventListener("click", toggleBookmark);
</script>
<!-- ================= HEADER SHRINK ================= -->
<script>
document.addEventListener("DOMContentLoaded", function () {

  /* =========================
     HEADER SHRINK + PADDING
  ========================== */

  const fixedHeader = document.querySelector(".fixed-top");
  const main = document.querySelector("main");

  function adjustMainPadding() {
    if (!fixedHeader || !main) return;
    main.style.paddingTop = fixedHeader.offsetHeight + 20 + "px";
  }

  function handleHeaderShrink() {
    if (!fixedHeader) return;
    fixedHeader.classList.toggle("shrink", window.scrollY > 80);
    adjustMainPadding();
  }

  window.addEventListener("scroll", handleHeaderShrink);
  window.addEventListener("resize", adjustMainPadding);
  adjustMainPadding();


  /* =========================
     SIDEBAR THÆ¯ VIá»†N (TRÃI)
  ========================== */

  const sidebar = document.getElementById("librarySidebar");
  const overlay = document.getElementById("overlay");
  const storyList = document.getElementById("storyList");
  const searchInput = document.getElementById("searchInput");

  function toggleLibrary() {
    if (!sidebar || !overlay) return;
    sidebar.classList.toggle("active");
    overlay.classList.toggle("active");
  }

  window.toggleLibrary = toggleLibrary;

  let storiesData = [];

  fetch("../../../stories.json")
    .then(res => res.json())
    .then(data => {
      storiesData = data;
      renderStories(data);
    })
    .catch(err => console.error("Lá»—i load stories.json:", err));

  function renderStories(data) {
    if (!storyList) return;

    storyList.innerHTML = "";

    const pathParts = window.location.pathname.split("/");
    const currentSlug = pathParts[2];

    data.forEach((story, index) => {
      const li = document.createElement("li");
      li.style.animationDelay = `${Math.min(index * 0.03, 0.3)}s`;

      const a = document.createElement("a");
      a.href = `/web-doc-truyen/stories/${story.slug}/`;
      a.textContent = `${story.title} (${story.chapters} chÆ°Æ¡ng)`;

      if (story.slug === currentSlug) {
        a.style.background = "#e0e7ff";
      }

      li.appendChild(a);
      storyList.appendChild(li);
    });
  }

  if (searchInput) {
    searchInput.addEventListener("input", function () {
      const keyword = this.value.toLowerCase();
      const filtered = storiesData.filter(story =>
        story.title.toLowerCase().includes(keyword)
      );
      renderStories(filtered);
    });
  }


  /* =========================
     SIDEBAR Má»¤C Lá»¤C CHÆ¯Æ NG (PHáº¢I)
  ========================== */

  const chapterSidebar = document.getElementById("chapterSidebar");
  const chapterOverlay = document.getElementById("chapterOverlay");
  const chapterList = document.getElementById("chapterList");

  function toggleChapterMenu() {
    if (!chapterSidebar || !chapterOverlay) return;
    chapterSidebar.classList.toggle("active");
    chapterOverlay.classList.toggle("active");
  }

  window.toggleChapterMenu = toggleChapterMenu;

  if (chapterList) {
    fetch("../index.html")
      .then(res => res.text())
      .then(html => {
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, "text/html");

        const toc = doc.querySelector(".content ul");
        if (!toc) return;

        const currentPage = window.location.pathname.split("/").pop();

        toc.querySelectorAll("li").forEach(li => {
          const a = li.querySelector("a");
          if (!a) return;

          let href = a.getAttribute("href");

          if (href.startsWith("chapter/")) {
            href = href.replace("chapter/", "");
          }

          const newLi = document.createElement("li");
          const newA = document.createElement("a");

          newA.href = href;
          newA.textContent = a.textContent;

          if (href === currentPage) {
            newA.style.background = "#e0e7ff";
          }

          newLi.appendChild(newA);
          chapterList.appendChild(newLi);
        });
      })
      .catch(err => console.error("KhÃ´ng load Ä‘Æ°á»£c má»¥c lá»¥c:", err));
  }

});
</script>
</body>
</html>
