
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
 <title>Pháº§n 5</title>

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Noto+Serif&family=Playfair+Display:wght@600;700&display=swap"
    rel="stylesheet"
  >

  <!-- Style dÃ¹ng chung -->
  <link rel="stylesheet" href="../style.css">
</head>

<body class="page-chapter">
<body class="page-chapter">

  <!-- ===== NÃšT Má» THÆ¯ VIá»†N (TRÃI) ===== -->
  <div class="menu-toggle" onclick="toggleLibrary()">â˜°</div>

  <div class="overlay" id="overlay" onclick="toggleLibrary()"></div>

  <div class="library-sidebar" id="librarySidebar">
    <div class="library-header">
      ğŸ“š ThÆ° viá»‡n
      <span class="close-btn" onclick="toggleLibrary()">âœ•</span>
    </div>

    <input type="text" id="searchInput" placeholder="TÃ¬m truyá»‡n..." />
    <ul id="storyList"></ul>
  </div>


  <!-- ===== NÃšT Má» Má»¤C Lá»¤C (PHáº¢I) ===== -->
  <div class="chapter-menu-toggle" onclick="toggleChapterMenu()">ğŸ“‘</div>

  <div id="chapterOverlay" class="chapter-overlay" onclick="toggleChapterMenu()"></div>

  <div id="chapterSidebar" class="chapter-sidebar">
    <div class="chapter-sidebar-header">
      ğŸ“š Má»¥c lá»¥c
      <span class="close-btn" onclick="toggleChapterMenu()">âœ•</span>
    </div>

    <ul id="chapterList"></ul>
  </div>
<!-- ================= HEADER ================= -->
<div class="fixed-top">
  <div class="fixed-inner page-chapter">

    <!-- LEFT -->
    <div class="top-left">
      <a class="back-link" href="../index.html">ğŸ“‘ Má»¥c lá»¥c</a>
      <a class="back-link" href="../../../index.html">ğŸ  Trang chá»§</a>
      <a class="back-link" href="../../../thu-vien-ten/name-library.html">ğŸ“– ThÆ° viá»‡n tÃªn</a>
      <button id="bookmarkBtn" class="back-link">ğŸ“Œ Káº¹p sÃ¡ch</button>
    </div>
    <!-- CENTER -->
    <div class="novel-header top-center">
      <h1 class="novel-title">
        Linh háº±ng ngÃ y ã€Xem áº¢nh Thá»ƒã€‘
      </h1>
      <div class="novel-meta">
        <span>Pháº§n 5</span>
      </div>
    </div>

    <!-- RIGHT -->
    <div class="top-right">
      <a class="back-link" href="phan4.html">â® ChÆ°Æ¡ng trÆ°á»›c</a>
      <a class="back-link" href="phan6.html">â­ ChÆ°Æ¡ng sau</a>
    </div>
  </div>
</div>

<!-- ================= CONTENT ================= -->
<main>
<div class="content chapter-content">
        <p>Cáº£m Æ¡n Ä‘áº¡i gia duy trÃ¬ â‘‰ï½¥á´—ï½¥â‘‰</p>
        <p>â€ƒâ€ƒâ”€â”€â”€â”€â”€</p>
        <p>â€ƒâ€ƒã€ Ä‘ang á»Ÿ Poirot cÃ´ng tÃ¡c Amuro Tooru nháº­n Ä‘Æ°á»£c Kazami Ä‘iá»‡n thoáº¡i.</p>
        <p>â€ƒâ€ƒ â€œNgÆ°á»£ng ngÃ¹ng tiá»ƒu tá»­ tiá»ƒu thÆ°, ta Ä‘á»™t nhiÃªn cÃ³ Ä‘iá»ƒm viá»‡c gáº¥p.â€ Háº¯n cháº¯p tay trÆ°á»›c ngá»±c, xin lá»—i mÃ  cÆ°á»i cÆ°á»i, â€œTa cÃ³ thá»ƒ hay khÃ´ng trÆ°á»›c tan táº§m?â€</p>
        <p>â€ƒâ€ƒ khÃ´ng chá» Enomoto Azusa tráº£ lá»i, háº¯n Ä‘Ã£ ra cá»­a, tiá»ƒu tá»­ lá»™ ra Ä‘áº­u Ä‘áº­u máº¯t. ã€‘â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œTiá»ƒu tá»­ tiá»ƒu thÆ° cÅ©ng thá»±c Ä‘Ã¡ng yÃªu a.â€ Mouri Ran nÃ³i. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œNguyÃªn lai Amuro tiÃªn sinh so vá»›i ta tÆ°á»Ÿng cÃ²n muá»‘n vá»™i, khÃ³ trÃ¡ch thÆ°á»ng xuyÃªn vá» sá»›m a.â€ Enomoto Azusa cÅ©ng lÃ½ giáº£i vÃ¬ cÃ¡i gÃ¬ Amuro Tooru luÃ´n lÃ  khÃ´ng tháº¥y bÃ³ng dÃ¡ng, trÆ°á»›c má»™t Ä‘oáº¡n thá»i gian tháº­m chÃ­ trá»±c tiáº¿p tá»« rá»›t Poirot cÃ´ng tÃ¡c. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œCÆ°á»i rá»™ lÃªn cÃ³ Ä‘iá»ƒm tiá»ƒu Morofushi cáº£m giÃ¡c a ï½â€ Hagiwara Kenji dÃ¹ng khuá»·u tay Ä‘á»‰nh Ä‘á»‰nh Morofushi Hiromitsu, tuy ráº±ng cÄƒn báº£n khÃ´ng gáº·p Ä‘Æ°á»£c. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œZero cÃ³ Ã´n nhu má»™t máº·t Ä‘Ã¢u.â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒã€ hÃ¬nh áº£nh vá»«a chuyá»ƒn, Kazami Yuuya Ä‘uá»•i theo pháº¡m nhÃ¢n cháº¡y lÃªn cáº§u thang, â€œÄá»©ng láº¡i! NgÆ°Æ¡i khÃ´ng cháº¡y thoÃ¡t Ä‘Æ°á»£c Ä‘Ã¢u!â€</p>
        <p>â€ƒâ€ƒ pháº¡m nhÃ¢n Ä‘á»™t nhiÃªn rÃºt ra má»™t phen tiá»ƒu Ä‘ao, thá»© hÆ°á»›ng Kazami máº·t. Háº¯n má»™t cÃ¡i trá»ng tÃ¢m khÃ´ng xong ngÃ£ xuá»‘ng thang láº§u.</p>
        <p>â€ƒâ€ƒ pháº¡m nhÃ¢n cho ráº±ng nÃ©m ra Kazami liá»n khÃ´ng cÃ³ viá»‡c gÃ¬, khÃ´ng nghÄ© tá»›i Ä‘áº©y ra Ä‘áº¡i mÃ´n liá»n tháº¥y Ä‘ang á»Ÿ vÃ£n Ã¡o sÆ¡mi cá»• tay Ã¡o Furuya Rei.</p>
        <p>â€ƒâ€ƒFuruya Rei kÃ©o kÃ©o cÃ  váº¡t: â€œCÆ° nhiÃªn nÃ©m xuá»‘ng Kazami, tháº­t ká»³ cá»¥c, Ä‘á»£i lÃ¡t ná»¯a ta cáº§n pháº£i háº£o háº£o nÃ³i háº¯n.â€</p>
        <p>â€ƒâ€ƒ â€œTrÃ¡nh ra â€”â€”!â€</p>
        <p>â€ƒâ€ƒ pháº¡m nhÃ¢n cáº§m Ä‘ao nháº±m phÃ­a Furuya Rei, háº¯n má»™t cÃ¡i láº¯c mÃ¬nh nÃ© trÃ¡nh cÃ´ng kÃ­ch, ngay sau Ä‘Ã³ má»™t quyá»n tháº³ng táº¯p cÃ´ng hÆ°á»›ng pháº¡m nhÃ¢n mang theo mÅ© giÃ¡p Ä‘áº§u.</p>
        <p>â€ƒâ€ƒ â€œTa sao cÃ³ thá»ƒ trá»±c tiáº¿p hÆ°á»›ng mÅ© giÃ¡p thÆ°á»£ng Ä‘Ã¡nh Ä‘Ã¢u?â€ Dá»©t lá»i má»™t khÃ¡c quyá»n tháº­t máº¡nh Ä‘Ã¡nh trÃºng pháº¡m nhÃ¢n Hattori, â€œÄÃ¢y lÃ  giáº£ Ä‘á»™ng tÃ¡c!â€</p>
        <p>â€ƒâ€ƒKazami Yuuya tiáº¿n vÃ o sau nhÃ¬n Ä‘áº¿n chÃ­nh lÃ  tÃ© xá»‰u pháº¡m nhÃ¢n cÃ¹ng háº¯n ngá»“i xá»•m á»Ÿ bÃªn cáº¡nh váº» máº·t vÃ´ tá»™i cáº¥p trÃªn. ã€‘â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œTháº­t lÃ  lá»£i háº¡i!â€ KhÃ´ng biáº¿t lÃ  ai hÃ´ nhÆ° váº­y má»™t cÃ¢u, má»i ngÆ°á»i sÃ´i ná»•i phá»¥ há»a. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œKhÃ´ng há»• lÃ  Furuya tiÃªn sinh!â€ Kazami Yuuya trá»±c tiáº¿p hÃ³a thÃ¢n vÃ¬ Furuya Rei mÃª Ä‘á»‡. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œAmuro tiÃªn sinh quÃ¡ soÃ¡i khÃ­! CÃ²n cÃ³ cÃ¡i nÃ y tÆ°Æ¡ng pháº£n cáº£m!â€ Sonoko Ä‘Ã´i máº¯t Ä‘á»u pháº£i xem tháº³ng, khÃ´ng chá» lan nÃ³i chuyá»‡n, nÃ ng láº¡i tiáº¿p theo, â€œBáº¥t quÃ¡ ta cÃ²n lÃ  cáº£m tháº¥y A ChÃ¢n lá»£i háº¡i hÆ¡n láº¡p ï½â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œCÃ¡i nÃ y thÃ¢n thá»§, mau cÃ³ thá»ƒ Ä‘uá»•i ká»‹p trong lá»i Ä‘á»“n cÃ¡i kia cáº£nh giÃ¡o Ä‘á»‡ nháº¥t Ä‘iâ€¦â€ Sato cáº£nh sÃ¡t nhá» giá»ng nÃ³i. ( khÃ´ng, háº¯n chÃ­nh lÃ  cÃ¡i kia cáº£nh giÃ¡o Ä‘á»‡ nháº¥t ) â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œVá»‹ nÃ o tiá»n bá»‘i cháº³ng pháº£i lÃ  lá»£i háº¡i hÆ¡n!â€ Takagi Wataru nghÄ© nghÄ©, â€œTa nhá»› rÃµâ€¦ Giá»‘ng nhÆ° cÃ¹ng Date Ä‘áº¡i ca lÃ  má»™t láº§n?â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒã€ â€œGáº§n nháº¥t tháº¥y tháº¿ nÃ o ngÆ°Æ¡i uá»ƒ oáº£i á»‰u xÃ¬u, Kazami.â€</p>
        <p>â€ƒâ€ƒ â€œThá»±c xin lá»—i!â€</p>
        <p>â€ƒâ€ƒ â€œNgÆ°Æ¡i nÃ y quáº§ng thÃ¢m máº¯t cÃ¹ng Akai khÃ´ng há» thua kÃ©m a. NgÆ°Æ¡i gáº§n nháº¥t khÃ´ng ngá»§ háº£o Ä‘i?â€</p>
        <p>â€ƒâ€ƒ â€œKhÃ´ng cÃ³â€¦â€</p>
        <p>â€ƒâ€ƒ â€œKhÃ´ng cho nÃ³i dá»‘i.â€</p>
        <p>â€ƒâ€ƒ â€œLÃ ! Bá»Ÿi vÃ¬ cÃ³ tháº­t nhiá»u bÃ¡o cÃ¡o tÃ­ch khÃ´ng viáº¿tâ€¦â€ NÃ³i háº¯n bá»¥ng liá»n vang lÃªn.</p>
        <p>â€ƒâ€ƒFuruya Rei báº¥t Ä‘áº¯c dÄ© thá»Ÿ dÃ i: â€œTa cÃ³ nÃ³i quÃ¡ Ä‘i, cÆ¡m pháº£i háº£o háº£o Äƒn. NgÆ°Æ¡i láº¡i khÃ´ng Äƒn cÆ¡m sao?â€</p>
        <p>â€ƒâ€ƒ â€œHÃ´m nay buá»•i sÃ¡ng, ta, ta Äƒn Ä‘iá»ƒm chocolate.â€</p>
        <p>â€ƒâ€ƒ â€œTa nÃ³i kia cÃ³ thá»ƒ Ä‘Æ°Æ¡ng cÆ¡m Äƒn sao? Pháº£i biáº¿t ráº±ng tá»™i pháº¡m cÅ©ng sáº½ khÃ´ng quáº£n ngÆ°Æ¡i nhiá»u nhÆ° váº­y, chiáº¿u cá»‘ háº£o chÃ­nh mÃ¬nh thÃ¢n thá»ƒ, thá»i kháº¯c lÃ m tá»‘t á»©ng Ä‘á»‘i nháº¥t hÆ° tÃ¬nh huá»‘ng chuáº©n bá»‹, Ä‘Ã¢y lÃ  Ä‘á»‘i chÃºng ta cÆ¡ báº£n nháº¥t yÃªu cáº§u!â€</p>
        <p>â€ƒâ€ƒKazami Ä‘áº©y Ä‘áº©y máº¯t kÃ­nh: â€œThá»±c xin lá»—i.â€</p>
        <p>â€ƒâ€ƒ â€œTÃ­nh, trá»Ÿ vá» thá»i Ä‘iá»ƒm thuáº­n Ä‘Æ°á»ng Ä‘i cÃ¡i Ä‘á»‹a phÆ°Æ¡ng Ä‘i.â€ Furuya Rei quay Ä‘áº§u liá»n Ä‘i.</p>
        <p>â€ƒâ€ƒ â€œÄi nÆ¡i nÃ o?â€ Kazami Yuuya láº­p tá»©c Ä‘uá»•i ká»‹p.</p>
        <p>â€ƒâ€ƒ â€œCÃ³ má»™t nhÃ  khÃ´ng tá»“i cá»­a hÃ ng.â€</p>
        <p>â€ƒâ€ƒ â€œKia, kia ta chÃ­nh mÃ¬nh Ä‘i thÃ´i.â€</p>
        <p>â€ƒâ€ƒ â€œLiá»n ngÆ°Æ¡i nÃ y tinh tháº§n tráº¡ng thÃ¡i, váº¡n nháº¥t Ä‘em ta xe lá»™ng há»ng rá»“i lÃ m sao bÃ¢y giá»?â€</p>
        <p>â€ƒâ€ƒ â€œNhÆ° tháº¿ nÃ o cÃ³ thá»ƒ lÃ m Furuya tiÃªn sinh ngÆ°Æ¡i tá»›i lÃ¡i xe Ä‘Ã¢u?!â€</p>
        <p>â€ƒâ€ƒâ€¦â€¦</p>
        <p>â€ƒâ€ƒ cuá»‘i cÃ¹ng váº«n lÃ  Furuya Rei á»Ÿ lÃ¡i xe, bá»‹ cÆ°á»ng áº¥n á»Ÿ trÃªn gháº¿ phá»¥ Kazami khÃ´ng chá»‘ng Ä‘á»¡ Ä‘Ã£ ngá»§. ã€‘â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ nhÃ¬n hÃ¬nh áº£nh trung chÃ­nh mÃ¬nh, Kazami Yuuya khÃ´ng tiáº¿ng Ä‘á»™ng hÆ°á»›ng bÃ³ng ma chá»— xÃª dá»‹ch. May máº¯n áº£nh thÃ­nh Ã¡nh Ä‘Ã¨n lá» má», khÃ´ng ai tháº¥y Ä‘Æ°á»£c trÃªn máº·t háº¯n Ä‘á» á»­ng. Háº¯n tháº¿ nhÆ°ng tháº­t sá»± lÃ m cáº¥p trÃªn lÃ¡i xe! CÃ²n bá»‹ ngÆ°á»i khÃ¡c tháº¥y Ä‘Æ°á»£c!! â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œAmuro, Furuya tiÃªn sinh tháº­t lÃ  nghiÃªm tÃºc láº¡i Ã´n nhu a.â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œÄÃºng váº­y Ä‘Ãºng váº­y, cÃ¹ng á»Ÿ Poirot nhÃ¬n tháº¥y cÃ³ hoÃ n toÃ n báº¥t Ä‘á»“ng má»™t máº·t Ä‘Ã¢u.â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œLáº¡i nháº¯c tá»›i tÃº ca, cho nÃªn háº¯n cÃ¹ng Ä‘áº¡i ca lÃ  cÃ³ cÃ¡i gÃ¬ thÃ¹ saoâ€¦?â€ Sera Masumi Ã¢m tháº§m suy tÆ°. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œÃ” oa, tiá»ƒu Furuya khai chÃ­nh lÃ  ta thÃ­ch nháº¥t xe ai!â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒMatsuda Jinpei quay Ä‘áº§u liáº¿c Hagiwara Kenji liáº¿c máº¯t má»™t cÃ¡i, vá»«a lÃºc bá»‹ háº¯n tháº¥y, â€œTiá»ƒu Jinpei lÃ  ghen tá»‹ sao? KhÃ´ng quan há»‡, tiá»ƒu Jinpei vÄ©nh viá»…n lÃ  ta Ä‘á»‡ nháº¥t thÃ¢n há»¯u nga â€”â€”â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œMá»›i khÃ´ng cÃ³.â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ xem ra nhÃ  mÃ¬nh osananajimi cÃ²n khÃ´ng cÃ³ nguÃ´i giáº­n a, Hagiwara Kenji tÆ°á»Ÿng.</p>





<!-- ===== NAV DÆ¯á»šI ===== -->
<div class="nav">
      <a class="back-link" href="../index.html">ğŸ“‘ Má»¥c lá»¥c</a>
      <a class="back-link" href="../../../index.html">ğŸ  Trang chá»§</a>
      <a class="back-link" href="../../../thu-vien-ten/name-library.html">ğŸ“– ThÆ° viá»‡n tÃªn</a>
      <a class="back-link" href="phan4.html">â® ChÆ°Æ¡ng trÆ°á»›c</a>
      <a class="back-link" href="phan6.html">â­ ChÆ°Æ¡ng sau</a>
</div>
  </main>
<!-- ================= BOOKMARK ================= -->
<script>
const NOVEL_ID = "linh-hang-ngay";
const NOVEL_TITLE = "Linh háº±ng ngÃ y ã€Xem áº¢nh Thá»ƒã€‘";
const CHAPTER_TITLE = "Pháº§n 5";
const btn = document.getElementById("bookmarkBtn");
function getBookmarks() {
  return JSON.parse(localStorage.getItem("bookmarks")) || {};
}
function isBookmarked() {
  return !!getBookmarks()[NOVEL_ID];
}
function updateButton() {
  const marked = isBookmarked();
  btn.textContent = marked ? "âœ… ÄÃ£ káº¹p" : "ğŸ“Œ Káº¹p sÃ¡ch";
  btn.classList.toggle("active", marked);
}
function toggleBookmark() {
  const bookmarks = getBookmarks();
  if (bookmarks[NOVEL_ID]) {
    delete bookmarks[NOVEL_ID];
    alert("âŒ ÄÃ£ bá» káº¹p sÃ¡ch");
  } else {
    bookmarks[NOVEL_ID] = {
      novelTitle: NOVEL_TITLE,
      chapterTitle: CHAPTER_TITLE,
      url: location.href,
      time: Date.now()
    };
    alert("ğŸ“Œ ÄÃ£ lÆ°u chÆ°Æ¡ng Ä‘ang Ä‘á»c");
  }
  localStorage.setItem("bookmarks", JSON.stringify(bookmarks));
  updateButton();
}
updateButton();
btn.addEventListener("click", toggleBookmark);
</script>
<!-- ================= HEADER SHRINK ================= -->
<script>
document.addEventListener("DOMContentLoaded", function () {

  /* =========================
     HEADER SHRINK + PADDING
  ========================== */

  const fixedHeader = document.querySelector(".fixed-top");
  const main = document.querySelector("main");

  function adjustMainPadding() {
    if (!fixedHeader || !main) return;
    main.style.paddingTop = fixedHeader.offsetHeight + 20 + "px";
  }

  function handleHeaderShrink() {
    if (!fixedHeader) return;
    fixedHeader.classList.toggle("shrink", window.scrollY > 80);
    adjustMainPadding();
  }

  window.addEventListener("scroll", handleHeaderShrink);
  window.addEventListener("resize", adjustMainPadding);
  adjustMainPadding();


  /* =========================
     SIDEBAR THÆ¯ VIá»†N (TRÃI)
  ========================== */

  const sidebar = document.getElementById("librarySidebar");
  const overlay = document.getElementById("overlay");
  const storyList = document.getElementById("storyList");
  const searchInput = document.getElementById("searchInput");

  function toggleLibrary() {
    if (!sidebar || !overlay) return;
    sidebar.classList.toggle("active");
    overlay.classList.toggle("active");
  }

  window.toggleLibrary = toggleLibrary;

  let storiesData = [];

  fetch("../../../stories.json")
    .then(res => res.json())
    .then(data => {
      storiesData = data;
      renderStories(data);
    })
    .catch(err => console.error("Lá»—i load stories.json:", err));

  function renderStories(data) {
    if (!storyList) return;

    storyList.innerHTML = "";

    const pathParts = window.location.pathname.split("/");
    const currentSlug = pathParts[2];

    data.forEach((story, index) => {
      const li = document.createElement("li");
      li.style.animationDelay = `${Math.min(index * 0.03, 0.3)}s`;

      const a = document.createElement("a");
      a.href = `/web-doc-truyen/stories/${story.slug}/`;
      a.textContent = `${story.title} (${story.chapters} chÆ°Æ¡ng)`;

      if (story.slug === currentSlug) {
        a.style.background = "#e0e7ff";
      }

      li.appendChild(a);
      storyList.appendChild(li);
    });
  }

  if (searchInput) {
    searchInput.addEventListener("input", function () {
      const keyword = this.value.toLowerCase();
      const filtered = storiesData.filter(story =>
        story.title.toLowerCase().includes(keyword)
      );
      renderStories(filtered);
    });
  }


  /* =========================
     SIDEBAR Má»¤C Lá»¤C CHÆ¯Æ NG (PHáº¢I)
  ========================== */

  const chapterSidebar = document.getElementById("chapterSidebar");
  const chapterOverlay = document.getElementById("chapterOverlay");
  const chapterList = document.getElementById("chapterList");

  function toggleChapterMenu() {
    if (!chapterSidebar || !chapterOverlay) return;
    chapterSidebar.classList.toggle("active");
    chapterOverlay.classList.toggle("active");
  }

  window.toggleChapterMenu = toggleChapterMenu;

  if (chapterList) {
    fetch("../index.html")
      .then(res => res.text())
      .then(html => {
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, "text/html");

        const toc = doc.querySelector(".content ul");
        if (!toc) return;

        const currentPage = window.location.pathname.split("/").pop();

        toc.querySelectorAll("li").forEach(li => {
          const a = li.querySelector("a");
          if (!a) return;

          let href = a.getAttribute("href");

          if (href.startsWith("chapter/")) {
            href = href.replace("chapter/", "");
          }

          const newLi = document.createElement("li");
          const newA = document.createElement("a");

          newA.href = href;
          newA.textContent = a.textContent;

          if (href === currentPage) {
            newA.style.background = "#e0e7ff";
          }

          newLi.appendChild(newA);
          chapterList.appendChild(newLi);
        });
      })
      .catch(err => console.error("KhÃ´ng load Ä‘Æ°á»£c má»¥c lá»¥c:", err));
  }

});
</script>
</body>
</html>
