
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
 <title>Pháº§n 20</title>

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Noto+Serif&family=Playfair+Display:wght@600;700&display=swap"
    rel="stylesheet"
  >

  <!-- Style dÃ¹ng chung -->
  <link rel="stylesheet" href="../style.css">
</head>

<body class="page-chapter">
<body class="page-chapter">

  <!-- ===== NÃšT Má» THÆ¯ VIá»†N (TRÃI) ===== -->
  <div class="menu-toggle" onclick="toggleLibrary()">â˜°</div>

  <div class="overlay" id="overlay" onclick="toggleLibrary()"></div>

  <div class="library-sidebar" id="librarySidebar">
    <div class="library-header">
      ğŸ“š ThÆ° viá»‡n
      <span class="close-btn" onclick="toggleLibrary()">âœ•</span>
    </div>

    <input type="text" id="searchInput" placeholder="TÃ¬m truyá»‡n..." />
    <ul id="storyList"></ul>
  </div>


  <!-- ===== NÃšT Má» Má»¤C Lá»¤C (PHáº¢I) ===== -->
  <div class="chapter-menu-toggle" onclick="toggleChapterMenu()">ğŸ“‘</div>

  <div id="chapterOverlay" class="chapter-overlay" onclick="toggleChapterMenu()"></div>

  <div id="chapterSidebar" class="chapter-sidebar">
    <div class="chapter-sidebar-header">
      ğŸ“š Má»¥c lá»¥c
      <span class="close-btn" onclick="toggleChapterMenu()">âœ•</span>
    </div>

    <ul id="chapterList"></ul>
  </div>
<!-- ================= HEADER ================= -->
<div class="fixed-top">
  <div class="fixed-inner page-chapter">

    <!-- LEFT -->
    <div class="top-left">
      <a class="back-link" href="../index.html">ğŸ“‘ Má»¥c lá»¥c</a>
      <a class="back-link" href="../../../index.html">ğŸ  Trang chá»§</a>
      <a class="back-link" href="../../../thu-vien-ten/name-library.html">ğŸ“– ThÆ° viá»‡n tÃªn</a>
      <button id="bookmarkBtn" class="back-link">ğŸ“Œ Káº¹p sÃ¡ch</button>
    </div>
    <!-- CENTER -->
    <div class="novel-header top-center">
      <h1 class="novel-title">
        Linh háº±ng ngÃ y ã€Xem áº¢nh Thá»ƒã€‘
      </h1>
      <div class="novel-meta">
        <span>Pháº§n 20</span>
      </div>
    </div>

    <!-- RIGHT -->
    <div class="top-right">
      <a class="back-link" href="phan19.html">â® ChÆ°Æ¡ng trÆ°á»›c</a>
      <a class="back-link" href="phan21.html">â­ ChÆ°Æ¡ng sau</a>
    </div>
  </div>
</div>

<!-- ================= CONTENT ================= -->
<main>
<div class="content chapter-content">

        <p>Láº» loi chÆ°Æ¡ng sau lÃ  cÃ³ thá»ƒ tá»‰nh cÃ³ kinh há»‰ lá»›n (ï¿£âˆ€ï¿£)</p>
        <p>â€ƒâ€ƒâ”€â”€â”€â”€â”€</p>
        <p>â€ƒâ€ƒã€ â€œTháº­t lÃ â€¦â€ Furuya Rei dá»©t khoÃ¡t báº¯t Ä‘áº§u Ä‘áº¡n Ä‘Ã n ghi-ta, â€œÄÃ¢y lÃ  Ä‘Ã n ghi-ta, Ã¢m sáº¯c ráº¥t Ãªm tai Ä‘Ãºng khÃ´ng?â€</p>
        <p>â€ƒâ€ƒ â€œTa há»c cÃ¡i nÃ y lÃ  vÃ¬ cÃ¹ng báº±ng há»¯u cÃ¹ng nhau diá»…n táº¥u.â€ Háº¯n nhá»› tá»›i osananajimi dáº¡y háº¯n Ä‘áº¡n Ä‘Ã n ghi-ta hÃ¬nh áº£nh.</p>
        <p>â€ƒâ€ƒ â€œUÃ´ng!â€ Tiá»ƒu cáº©u táº¡i chá»— xoay hai vÃ²ng.</p>
        <p>â€ƒâ€ƒ â€œNgÆ°Æ¡i thá»±c thÃ­ch sao?â€ Furuya Rei cÆ°á»i cÆ°á»i, â€œKia ta liá»n Ä‘em ta há»c Ä‘á»‡ nháº¥t Ä‘áº§u khÃºc Ä‘áº¡n cho ngÆ°Æ¡i nghe Ä‘i.â€</p>
        <p>â€ƒâ€ƒ â€œG Ä‘iá»‡u trÆ°á»Ÿng, cá»‘ hÆ°Æ¡ng.â€ ã€‘â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œHáº£o háº£o nghe!â€ Máº¥y cÃ¡i tiá»ƒu hÃ i tá»­ kÃªu. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œTiá»ƒu tá»­ nÃ y cÃ²n sáº½ Ä‘áº¡n Ä‘Ã n ghi-ta a.â€ Mouri Kogoro láº©m báº©m má»™t cÃ¢u. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œSonoko, Sera cÃ¹ng ta cÃ²n cÃ³ Conan Ä‘á»u nghe qua Ä‘Ã¢u.â€ Mouri Ran nÃ³i, â€œÄÃºng khÃ´ng? Conan.â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œAâ€¦ Ã‚n!â€ Tiá»ƒu trinh thÃ¡m khÃ´ng nghÄ© tá»›i lÃºc nÃ y cÃ²n sáº½ nháº¯c tá»›i háº¯n. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒEdogawa Conan há»“i á»©c má»™t chÃºt Furuya Rei ká»¹ nÄƒng: Náº¥u cÆ¡m, nháº¡c cá»¥, lÃ¡i xe, nhu Ä‘áº¡o, cÃ²n sáº½ há»§y Ä‘i Ä‘áº¡n! A, nghe nÃ³i xáº¡ kÃ­ch cÅ©ng ráº¥t lá»£i háº¡i, háº¯n chÃ­nh máº¯t gáº·p qua trinh thÃ¡m cÅ©ng khÃ´ng kÃ©mâ€¦â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ tháº­t Ä‘Ã¡ng sá»£ nam nhÃ¢n! â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œCáº£nh lÃ£o gia, Ä‘Ã n ghi-ta cÅ©ng lÃ  ngÆ°Æ¡i dáº¡y linh sao?â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œÄÃºng váº­y, thá»±c hoÃ i niá»‡m Ä‘Ã¢u.â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œNáº¥u cÆ¡m cÅ©ng lÃ  ngÆ°Æ¡i dáº¡y, kia 'Amuro Tooru' tháº­t Ä‘Ãºng lÃ  giá»‘ng ngÆ°Æ¡i cÃ¹ng thu a.â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œVÃ¬ cÃ¡i gÃ¬ cÃ²n cÃ³ ta a tiá»ƒu Jinpei?â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œNgáº¡châ€¦ Bá»Ÿi vÃ¬ ngÆ°á»i nÃ y hiá»‡n táº¡i nhÃ¬n qua cÅ©ng ráº¥t biáº¿t hÃ¡i hoa ngáº¯t cá»?â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œCÃ¡i gÃ¬ sao! Ta cÅ©ng khÃ´ng cÃ³ hÃ¡i hoa ngáº¯t cá» Ä‘i, chá»‰ lÃ  tÆ°Æ¡ng Ä‘á»‘i chá»‹u ná»¯ hÃ i tá»­ hoan nghÃªnh ai.â€ Hagiwara Kenji cÆ°á»i hÃ¬ hÃ¬ nhÃ¬n Matsuda Jinpei, â€œNáº¿u tiá»ƒu Jinpei ngÆ°Æ¡i khÃ´ng tá»•ng xÃº máº·t nÃ³i, kháº³ng Ä‘á»‹nh cÅ©ng sáº½ thá»±c chá»‹u ná»¯ hÃ i tá»­ hoan nghÃªnh!â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œAi cÃ¹ng ngÆ°Æ¡i giá»‘ng nhau Ä‘á»ƒ Ã½ nÃ y Ä‘Ã³ a!â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒã€ chá» háº¯n Ä‘áº¡n xong cuá»‘i cÃ¹ng má»™t cÃ¡i Ã¢m, tiá»ƒu cáº©u Ä‘Ã£ nháº¯m hai máº¯t láº¡i.</p>
        <p>â€ƒâ€ƒ â€œCÆ° nhiÃªn ngá»§ rá»“iâ€¦ Xem ra ngÆ°Æ¡i thá»±c thÃ­ch cÃ¡i nÃ y thang Ã¢m a.â€ Furuya Rei nhÃ¬n ngá»§ say tiá»ƒu cáº©u, â€œNghe nÃ³i cÃ³ cáº©u cÃ¹ng lang ráº¥t giá»‘ng, thÃ´ng suá»‘t quÃ¡ tru lÃªn tá»›i cÃ¹ng Ä‘á»“ng báº¡n giao lÆ°u, chÃºng nÃ³ sáº½ Ä‘á»‘i nÃ o Ä‘Ã³ riÃªng thanh Ã¢m, tá»· nhÆ° cÃ²i cáº£nh sÃ¡t thanh cÃ¹ng bá»™ Ä‘Ã m thanh sinh ra pháº£n á»©ng. Tiá»ƒu gia há»a sáº½ Ä‘á»‘i riÃªng tiáº¿ng nháº¡c phÃ¡t ra tiáº¿ng kÃªu, phá»ng chá»«ng cÅ©ng lÃ  Ä‘áº¡o lÃ½ nÃ y Ä‘i.â€</p>
        <p>â€ƒâ€ƒ â€œ3 huyá»n 5 pháº©m, cÃ²n cÃ³ 4 pháº©mâ€¦â€ Háº¯n ngáº©ng Ä‘áº§u nghÄ© nghÄ©, â€œTiá»ƒu gia há»a thÃ­ch Ã¢m lÃ  Ä‘a cÃ¹ng tÃ¢y, váº­y kÃªu ngÆ°Æ¡i Amuro Ä‘a tÃ¢y Ä‘i.â€</p>
        <p>â€ƒâ€ƒ â€œTÃ­nh tÃ­nh, Amuro Ä‘a tÃ¢y khÃ´ng dá»… nghe.â€ Háº¯n láº¡i ngáº«m láº¡i, â€œÄá»“ rÃª mi Ä‘á»•i thÃ nh CDEFGABC, AmuroCBâ€¦ QuÃ¡ ká»³ quÃ¡i.â€</p>
        <p>â€ƒâ€ƒ â€œÄá»•i thÃ nh tiáº¿ng Nháº­t tÃªn gá»i luáº­t lá»¯ nÃ³i, ta ngáº«m láº¡iâ€¦ Äa chÃ­nh lÃ  ha, tÃ¢y chÃ­nh lÃ  laâ€¦ Ã‚n, ta Ä‘á»‹nh háº£o tÃªn cá»§a ngÆ°Æ¡i.â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ láº§n thá»© hai Ä‘áº¿n bá»‡nh viá»‡n thÃº cÆ°ng</p>
        <p>â€ƒâ€ƒ â€œAmuro Hello â€”â€”â€</p>
        <p>â€ƒâ€ƒ â€œUÃ´ng!â€ ã€‘â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œNguyÃªn lai kÃªu Hello a, ráº¥t Ãªm tai Ä‘Ã¢u!â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œTiá»ƒu Hello háº£o Ä‘Ã¡ng yÃªu!â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œZero, hiro, haroâ€¦ Tiá»ƒu Furuya tháº­t Ä‘Ãºng lÃ  sáº½ Ä‘áº·t tÃªn a.â€ Háº¯n liáº¿c máº¯t má»™t cÃ¡i chÃ­nh mÃ¬nh osananajimi, â€œCÃ²n cÃ³ Eroâ€”â€” háº£o Ã¡p váº§n!â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œKhÃ´ng cáº§n nÃ³i ná»¯a a thu!â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œHáº£o háº£o, Jinpei tÆ°Æ¡ng ï½â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒã€ má»™t Ä‘Ã¡m ngÆ°á»i á»Ÿ cÃ¢y hoa anh Ä‘Ã o vá» vÆ°á»n cÆ¡m.</p>
        <p>â€ƒâ€ƒ â€œLÃ  hoa anh Ä‘Ã o vÅ©!â€ Enomoto Azusa duá»—i tay báº¯t vÃ i cÃ¡i, â€œKhÃ´ng báº¯t láº¥yâ€¦â€</p>
        <p>â€ƒâ€ƒ â€œNgÆ°Æ¡i khi cÃ²n nhá» cÃ³ chÆ¡i qua sao?â€ NÃ ng há»i Amuro Tooru, â€œHoa anh Ä‘Ã o ma phÃ¡p, á»Ÿ hoa anh Ä‘Ã o cÃ¡nh hoa rÆ¡i xuá»‘ng Ä‘áº¥t phÃ­a trÆ°á»›c, cÃ³ thá»ƒ báº¯t láº¥y tam phiáº¿n nÃ³i, nguyá»‡n vá»ng lÃ  cÃ³ thá»ƒ thá»±c hiá»‡n. Amuro tiÃªn sinh ngÆ°Æ¡i sáº½ há»©a cÃ¡i gÃ¬ nguyá»‡n vá»ng Ä‘Ã¢u?â€</p>
        <p>â€ƒâ€ƒ â€œUy, cÃ²n cÃ³ rÆ°á»£u khÃ´ng?â€ CÃ³ ngÆ°á»i kÃªu.</p>
        <p>â€ƒâ€ƒ â€œÃ‚n, xe cá»‘p xe cÃ³, ta Ä‘i láº¥y.â€ Amuro Tooru Ä‘á»©ng dáº­y rá»i Ä‘i, tháº¥y khÃ´ng rÃµ biá»ƒu tÃ¬nh.</p>
        <p>â€ƒâ€ƒ â€œPhiá»n toÃ¡i ngÆ°Æ¡i, Amuro tiÃªn sinh.â€</p>
        <p>â€ƒâ€ƒ nhÃ¬n ngá»“i á»Ÿ cÃ¹ng nhau vá»«a nÃ³i vá»«a cÆ°á»i má»i ngÆ°á»i, â€œCÃ¹ng nhiá»u ngÆ°á»i nhÆ° váº­y vui váº» mÃ  tá»¥ á»Ÿ bÃªn nhau, ngáº«u nhiÃªn thá»ƒ nghiá»‡m má»™t chÃºt cÅ©ng khÃ´ng tá»“i.â€ ã€‘â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œTháº­t xinh Ä‘áº¹p hoa anh Ä‘Ã o!â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œTiá»ƒu Furuya chÃ­nh lÃ  nÃªn nhiá»u tháº£ lá»ng má»™t chÃºt sao.â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒMorofushi Hiromitsu cáº§m tÃ¡n Ä‘á»“ng Ã½ kiáº¿n. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œNgÆ°Æ¡i cÃ²n cÃ³ cÃ¡i gÃ¬ nguyá»‡n vá»ng sao, thu?â€ Matsuda Jinpei bá»—ng nhiÃªn má»Ÿ miá»‡ng. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œÃ‚nâ€¦ Äáº¡i khÃ¡i chÃ­nh lÃ  ngÆ°á»i nhÃ  Ä‘i.â€ Hagiwara Kenji báº¥t Ä‘áº¯c dÄ© má»Ÿ miá»‡ng, Ä‘Æ°Æ¡ng háº¯n Ã¡nh máº¯t rÆ¡i xuá»‘ng cÃ¹ng chÃ­nh mÃ¬nh giá»‘ng nhau thÃ¢n thá»ƒ ná»­a trong suá»‘t osananajimi trÃªn ngÆ°á»i, nguyÃªn báº£n tÆ°á»Ÿng lá»i nÃ³i láº¡i táº¡p á»Ÿ giá»ng nÃ³i. Náº¿u Matsuda Jinpei cÅ©ng Ä‘á»©ng á»Ÿ chá»— nÃ y, váº­y thuyáº¿t minh háº¯n cÅ©ngâ€¦â€¦ CÃ²n cÃ³ vá»«a tá»›i Ä‘áº¿n nÆ¡i Ä‘Ã¢y khi háº¯n khÃ­ trÃ ng biáº¿n hÃ³a, Ä‘á»™t nhiÃªn táº¡p Ä‘i lÃªn náº¯m tay, cÃ¹ng máº·t khÃ¡c ráº¥t nhiá»u dá»‹ dáº¡ng cáº£m giÃ¡c, Ä‘á»u cÃ¹ng Ä‘Ã£ tá»«ng Matsuda Jinpei khÃ´ng giá»‘ng nhau, Hagiwara Kenji váº«n luÃ´n khÃ´ng dÃ¡m tÆ°á»Ÿng háº¯n khÃ´ng á»Ÿ thá»i Ä‘iá»ƒm báº¡n tá»‘t Ä‘á»u Ä‘Ã£ tráº£i qua cÃ¡i gÃ¬, tháº­m chÃ­ cÃ³ thá»ƒ nÃ³i lÃ  Ä‘ang trá»‘n trÃ¡nh. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒMatsuda Jinpei Ä‘Æ°Æ¡ng nhiÃªn cÅ©ng chÃº Ã½ tá»›i háº¯n muá»‘n nÃ³i láº¡i thÃ´i, cÅ©ng khÃ´ng cÃ³ tiáº¿p tá»¥c há»i. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œMorofushi khÃ´ng bá» xuá»‘ng Ä‘Æ°á»£c kháº³ng Ä‘á»‹nh lÃ  tÃªn há»—n Ä‘áº£n kia kim mao, nga, cÃ²n cÃ³ háº¯n ca caâ€¦ Lá»›p trÆ°á»Ÿng nÃ³i, nháº¥t Ä‘á»‹nh lÃ  báº¡n gÃ¡i Ä‘i.â€ Háº¯n tÆ°á»Ÿng. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œCÃ²n khÃ´ng cÃ³ tá»›i ká»‹p cáº¥p thu tÃªn há»—n Ä‘áº£n kia bÃ¡o thÃ¹â€¦â€¦â€ NghÄ© váº­y háº¯n khÃ´ng cáº¥m náº¯m cháº·t náº¯m tay. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œHoa anh Ä‘Ã o ma phÃ¡pâ€¦Sonoko, ngÆ°Æ¡i sáº½ há»©a cÃ¡i gÃ¬ nguyá»‡n vá»ng?â€ Mouri Ran há»i. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œCÃ¡i nÃ y aâ€¦â€ Suzuki Sonoko nghÄ© nghÄ©, â€œÄáº¡i khÃ¡i lÃ  tÆ°á»Ÿng cÃ¹ng A ChÃ¢n vÄ©nh viá»…n á»Ÿ bÃªn nhau Ä‘i! Kia lan ngÆ°Æ¡i Ä‘Ã¢u? Ta Ä‘oÃ¡n kháº³ng Ä‘á»‹nh láº¡i cÃ¹ng ngÆ°Æ¡i lÃ£o cÃ´ng cÃ³ quan há»‡!â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ nÃ ng khÃ´ng nÃ³i gÃ¬, chá»‰ lÃ  á»Ÿ trong lÃ²ng tÆ°á»Ÿng: â€œChá» Ä‘á»£i thá»i gian cÃ ng lÃ¢u, tÃ¡i kiáº¿n thá»i Ä‘iá»ƒm liá»n sáº½ cÃ ng vui váº» Ä‘i, Shinichiâ€¦â€¦â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒEdogawa Conan biá»ƒu tÃ¬nh lÆ°á»£c hiá»‡n nghiÃªm tÃºc, tháº³ng táº¯p nhÃ¬n phÃ­a trÆ°á»›c, náº¿u lÃ  nhÃ¬n ká»¹ sáº½ phÃ¡t hiá»‡n, háº¯n Ä‘Ã´i máº¯t cÄƒn báº£n khÃ´ng cÃ³ ngáº¯m nhÃ¬n. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œTa tÆ°á»Ÿng nhanh lÃªn trá»Ÿ láº¡i cáº¡nh ngÆ°Æ¡i, lan.â€</p>




















































































































































































































































































































<!-- ===== NAV DÆ¯á»šI ===== -->
<div class="nav">
      <a class="back-link" href="../index.html">ğŸ“‘ Má»¥c lá»¥c</a>
      <a class="back-link" href="../../../index.html">ğŸ  Trang chá»§</a>
      <a class="back-link" href="../../../thu-vien-ten/name-library.html">ğŸ“– ThÆ° viá»‡n tÃªn</a>
      <a class="back-link" href="phan19.html">â® ChÆ°Æ¡ng trÆ°á»›c</a>
      <a class="back-link" href="phan21.html">â­ ChÆ°Æ¡ng sau</a>
</div>
  </main>
<!-- ================= BOOKMARK ================= -->
<script>
const NOVEL_ID = "linh-hang-ngay";
const NOVEL_TITLE = "Linh háº±ng ngÃ y ã€Xem áº¢nh Thá»ƒã€‘";
const CHAPTER_TITLE = "Pháº§n 20";
const btn = document.getElementById("bookmarkBtn");
function getBookmarks() {
  return JSON.parse(localStorage.getItem("bookmarks")) || {};
}
function isBookmarked() {
  return !!getBookmarks()[NOVEL_ID];
}
function updateButton() {
  const marked = isBookmarked();
  btn.textContent = marked ? "âœ… ÄÃ£ káº¹p" : "ğŸ“Œ Káº¹p sÃ¡ch";
  btn.classList.toggle("active", marked);
}
function toggleBookmark() {
  const bookmarks = getBookmarks();
  if (bookmarks[NOVEL_ID]) {
    delete bookmarks[NOVEL_ID];
    alert("âŒ ÄÃ£ bá» káº¹p sÃ¡ch");
  } else {
    bookmarks[NOVEL_ID] = {
      novelTitle: NOVEL_TITLE,
      chapterTitle: CHAPTER_TITLE,
      url: location.href,
      time: Date.now()
    };
    alert("ğŸ“Œ ÄÃ£ lÆ°u chÆ°Æ¡ng Ä‘ang Ä‘á»c");
  }
  localStorage.setItem("bookmarks", JSON.stringify(bookmarks));
  updateButton();
}
updateButton();
btn.addEventListener("click", toggleBookmark);
</script>
<!-- ================= HEADER SHRINK ================= -->
<script>
document.addEventListener("DOMContentLoaded", function () {

  /* =========================
     HEADER SHRINK + PADDING
  ========================== */

  const fixedHeader = document.querySelector(".fixed-top");
  const main = document.querySelector("main");

  function adjustMainPadding() {
    if (!fixedHeader || !main) return;
    main.style.paddingTop = fixedHeader.offsetHeight + 20 + "px";
  }

  function handleHeaderShrink() {
    if (!fixedHeader) return;
    fixedHeader.classList.toggle("shrink", window.scrollY > 80);
    adjustMainPadding();
  }

  window.addEventListener("scroll", handleHeaderShrink);
  window.addEventListener("resize", adjustMainPadding);
  adjustMainPadding();


  /* =========================
     SIDEBAR THÆ¯ VIá»†N (TRÃI)
  ========================== */

  const sidebar = document.getElementById("librarySidebar");
  const overlay = document.getElementById("overlay");
  const storyList = document.getElementById("storyList");
  const searchInput = document.getElementById("searchInput");

  function toggleLibrary() {
    if (!sidebar || !overlay) return;
    sidebar.classList.toggle("active");
    overlay.classList.toggle("active");
  }

  window.toggleLibrary = toggleLibrary;

  let storiesData = [];

  fetch("../../../stories.json")
    .then(res => res.json())
    .then(data => {
      storiesData = data;
      renderStories(data);
    })
    .catch(err => console.error("Lá»—i load stories.json:", err));

  function renderStories(data) {
    if (!storyList) return;

    storyList.innerHTML = "";

    const pathParts = window.location.pathname.split("/");
    const currentSlug = pathParts[2];

    data.forEach((story, index) => {
      const li = document.createElement("li");
      li.style.animationDelay = `${Math.min(index * 0.03, 0.3)}s`;

      const a = document.createElement("a");
      a.href = `/web-doc-truyen/stories/${story.slug}/`;
      a.textContent = `${story.title} (${story.chapters} chÆ°Æ¡ng)`;

      if (story.slug === currentSlug) {
        a.style.background = "#e0e7ff";
      }

      li.appendChild(a);
      storyList.appendChild(li);
    });
  }

  if (searchInput) {
    searchInput.addEventListener("input", function () {
      const keyword = this.value.toLowerCase();
      const filtered = storiesData.filter(story =>
        story.title.toLowerCase().includes(keyword)
      );
      renderStories(filtered);
    });
  }


  /* =========================
     SIDEBAR Má»¤C Lá»¤C CHÆ¯Æ NG (PHáº¢I)
  ========================== */

  const chapterSidebar = document.getElementById("chapterSidebar");
  const chapterOverlay = document.getElementById("chapterOverlay");
  const chapterList = document.getElementById("chapterList");

  function toggleChapterMenu() {
    if (!chapterSidebar || !chapterOverlay) return;
    chapterSidebar.classList.toggle("active");
    chapterOverlay.classList.toggle("active");
  }

  window.toggleChapterMenu = toggleChapterMenu;

  if (chapterList) {
    fetch("../index.html")
      .then(res => res.text())
      .then(html => {
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, "text/html");

        const toc = doc.querySelector(".content ul");
        if (!toc) return;

        const currentPage = window.location.pathname.split("/").pop();

        toc.querySelectorAll("li").forEach(li => {
          const a = li.querySelector("a");
          if (!a) return;

          let href = a.getAttribute("href");

          if (href.startsWith("chapter/")) {
            href = href.replace("chapter/", "");
          }

          const newLi = document.createElement("li");
          const newA = document.createElement("a");

          newA.href = href;
          newA.textContent = a.textContent;

          if (href === currentPage) {
            newA.style.background = "#e0e7ff";
          }

          newLi.appendChild(newA);
          chapterList.appendChild(newLi);
        });
      })
      .catch(err => console.error("KhÃ´ng load Ä‘Æ°á»£c má»¥c lá»¥c:", err));
  }

});
</script>
</body>
</html>
