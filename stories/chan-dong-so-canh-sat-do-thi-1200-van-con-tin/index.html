
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cháº¥n Äá»™ng Sá»Ÿ Cáº£nh SÃ¡t ÄÃ´ Thá»‹ 1200 Váº¡n Con Tin ã€Xem áº¢nh Thá»ƒã€‘</title>

  <!-- FONT -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
  <!-- STYLE -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="menu-toggle" onclick="toggleLibrary()">â˜°</div>

<div class="overlay" id="overlay" onclick="toggleLibrary()"></div>

<div class="library-sidebar" id="librarySidebar">
  <div class="library-header">
    ğŸ“š ThÆ° viá»‡n
    <span class="close-btn" onclick="toggleLibrary()">âœ•</span>
  </div>

  <input type="text" id="searchInput" placeholder="TÃ¬m truyá»‡n..." />

  <ul id="storyList"></ul>
</div>


<!-- ===== FIXED TOP (HEADER Cá» Äá»ŠNH) ===== -->
<div class="fixed-top">
  <div class="fixed-inner">

    <div class="top-left">
      <a href="../../index.html" class="back-link">â† Kho Truyá»‡n</a>
      <a href="../../thu-vien-ten/name-library.html" class="back-link">ThÆ° Viá»‡n TÃªn</a>
    </div>

    <div class="top-center">
      <h1 class="novel-title">
       Cháº¥n Äá»™ng Sá»Ÿ Cáº£nh SÃ¡t ÄÃ´ Thá»‹ 1200 Váº¡n Con Tin ã€Xem áº¢nh Thá»ƒã€‘
      </h1>
    </div>
    <div class="top-right author">
      âœï¸ TÃ¹ng MiÃªn (æ¾çœ )
    </div>

    <div class="novel-meta">
      <span>ğŸ“˜ HoÃ n thÃ nh</span>
      <span>ğŸ“– 12 chÆ°Æ¡ng</span>
    </div>
  </div>
</div>

<!-- ===== MAIN CONTENT ===== -->
<main>
  <div class="novel-layout">

    <!-- áº¢nh bÃ¬a -->
    <div class="cover-image">
      <img src="cover.png" alt="áº¢nh bÃ¬a truyá»‡n">
    </div>

    <!-- ===== VÄ‚N ÃN ===== -->
    <section class="section">
      <div class="section-title">ğŸ“œ VÄƒn Ã¡n</div>

    <div class="tag-line">
      <span>Äá»“ng nhÃ¢n</span>
      <span>Conan</span>
      <span>Trinh thÃ¡m</span>
      <span>KhÃ´ng CP</span>
      <span>áº¤m Ã¡p</span>
      <span>Xem áº£nh thá»ƒ</span>
    </div>

    <div class="content">

        <p>Nguá»“n: LOFTER</p>
        <p>Link: https://stzp90774.lofter.com/post/74ad4825_2b873121e</p>
        <p>Pháº§n tiáº¿p theo cá»§a 'Linh háº±ng ngÃ y'  - xem áº£nh thá»ƒ</p>

    </div>
  </section>
    </div>

  <!-- ===== Má»¤C Lá»¤C ===== -->
  <section class="section">
    <div class="section-title">ğŸ“š Má»¥c lá»¥c</div>

    <div class="content">
      <ul>

    <li><a href="chapter/phan1.html">Pháº§n 1</a></li>
    <li><a href="chapter/phan2.html">Pháº§n 2</a></li>
    <li><a href="chapter/phan3.html">Pháº§n 3</a></li>
    <li><a href="chapter/phan4.html">Pháº§n 4</a></li>
    <li><a href="chapter/phan5.html">Pháº§n 5</a></li>
    <li><a href="chapter/phan6.html">Pháº§n 6</a></li>
    <li><a href="chapter/phan7.html">Pháº§n 7</a></li>
    <li><a href="chapter/phan8.html">Pháº§n 8</a></li>
    <li><a href="chapter/phan9.html">Pháº§n 9</a></li>
    <li><a href="chapter/phan10.html">Pháº§n 10</a></li>
    <li><a href="chapter/phan11.html">Pháº§n 11</a></li>
    <li><a href="chapter/pn.html">PhiÃªn Ngoáº¡i</a></li>

  </ul>
</div>
</section>

</main>

<footer>
  Â© 2026 â€“ Web Ä‘á»c truyá»‡n cÃ¡ nhÃ¢n
</footer>



<script>
  const header = document.querySelector('.fixed-top');
  const main = document.querySelector('main');

  function updateLayout() {
    const headerHeight = header.offsetHeight;
    main.style.paddingTop = headerHeight + 'px';
  }

  window.addEventListener('scroll', () => {
    if (window.scrollY > 80) {
      header.classList.add('shrink');
    } else {
      header.classList.remove('shrink');
    }
    updateLayout();
  });

  window.addEventListener('resize', updateLayout);
  window.addEventListener('load', updateLayout);

  // ===== SIDEBAR LOGIC =====

  const sidebar = document.getElementById("librarySidebar");
  const overlay = document.getElementById("overlay");
  const storyList = document.getElementById("storyList");
  const searchInput = document.getElementById("searchInput");

  function toggleLibrary() {
    sidebar.classList.toggle("active");
    overlay.classList.toggle("active");
  }

  let storiesData = [];

  // ğŸ”¥ Path chuáº©n (vÃ¬ Ä‘ang á»Ÿ /stories/slug/index.html)
  fetch("../../stories.json")
    .then(res => res.json())
    .then(data => {
      storiesData = data;
      renderStories(data);
    })
    .catch(err => console.error("Lá»—i load stories.json:", err));

  function renderStories(data) {
    storyList.innerHTML = "";

    // ğŸ”¥ Láº¥y slug an toÃ n (khÃ´ng phá»¥ thuá»™c cáº¥u trÃºc deploy)
    const pathParts = window.location.pathname.split("/");
    const currentSlug = pathParts[pathParts.length - 2];

    data.forEach((story, index) => {
      const li = document.createElement("li");

      // ğŸ”¥ Giá»›i háº¡n animation delay
      li.style.animationDelay = `${Math.min(index * 0.03, 0.3)}s`;

      const a = document.createElement("a");
      a.href = `/web-doc-truyen/stories/${story.slug}/`;
      a.textContent = `${story.title} (${story.chapters} chÆ°Æ¡ng)`;

      // ğŸ”¥ Highlight truyá»‡n Ä‘ang Ä‘á»c
      if (story.slug === currentSlug) {
        a.style.background = "#e0e7ff";
      }

      // ğŸ”¥ Auto Ä‘Ã³ng sidebar khi click
      a.addEventListener("click", () => {
        sidebar.classList.remove("active");
        overlay.classList.remove("active");
      });

      li.appendChild(a);
      storyList.appendChild(li);
    });
  }

  // ğŸ”¥ TÃ¬m kiáº¿m realtime
  searchInput.addEventListener("input", function () {
    const keyword = this.value.toLowerCase();

    const filtered = storiesData.filter(story =>
      story.title.toLowerCase().includes(keyword)
    );

    renderStories(filtered);
  });
</script>
</body>
</html>






