
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
 <title>Pháº§n 8</title>

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Noto+Serif&family=Playfair+Display:wght@600;700&display=swap"
    rel="stylesheet"
  >

  <!-- Style dÃ¹ng chung -->
  <link rel="stylesheet" href="../style.css">
</head>

<body class="page-chapter">
<body class="page-chapter">

  <!-- ===== NÃšT Má» THÆ¯ VIá»†N (TRÃI) ===== -->
  <div class="menu-toggle" onclick="toggleLibrary()">â˜°</div>

  <div class="overlay" id="overlay" onclick="toggleLibrary()"></div>

  <div class="library-sidebar" id="librarySidebar">
    <div class="library-header">
      ğŸ“š ThÆ° viá»‡n
      <span class="close-btn" onclick="toggleLibrary()">âœ•</span>
    </div>

    <input type="text" id="searchInput" placeholder="TÃ¬m truyá»‡n..." />
    <ul id="storyList"></ul>
  </div>


  <!-- ===== NÃšT Má» Má»¤C Lá»¤C (PHáº¢I) ===== -->
  <div class="chapter-menu-toggle" onclick="toggleChapterMenu()">ğŸ“‘</div>

  <div id="chapterOverlay" class="chapter-overlay" onclick="toggleChapterMenu()"></div>

  <div id="chapterSidebar" class="chapter-sidebar">
    <div class="chapter-sidebar-header">
      ğŸ“š Má»¥c lá»¥c
      <span class="close-btn" onclick="toggleChapterMenu()">âœ•</span>
    </div>

    <ul id="chapterList"></ul>
  </div>
<!-- ================= HEADER ================= -->
<div class="fixed-top">
  <div class="fixed-inner page-chapter">

    <!-- LEFT -->
    <div class="top-left">
      <a class="back-link" href="../index.html">ğŸ“‘ Má»¥c lá»¥c</a>
      <a class="back-link" href="../../../index.html">ğŸ  Trang chá»§</a>
      <a class="back-link" href="../../../thu-vien-ten/name-library.html">ğŸ“– ThÆ° viá»‡n tÃªn</a>
      <button id="bookmarkBtn" class="back-link">ğŸ“Œ Káº¹p sÃ¡ch</button>
    </div>
    <!-- CENTER -->
    <div class="novel-header top-center">
      <h1 class="novel-title">
        Cháº¥n Äá»™ng Sá»Ÿ Cáº£nh SÃ¡t ÄÃ´ Thá»‹ 1200 Váº¡n Con Tin ã€Xem áº¢nh Thá»ƒã€‘
      </h1>
      <div class="novel-meta">
        <span>Pháº§n 8</span>
      </div>
    </div>

    <!-- RIGHT -->
    <div class="top-right">
      <a class="back-link" href="phan7.html">â® ChÆ°Æ¡ng trÆ°á»›c</a>
      <a class="back-link" href="phan9.html">â­ ChÆ°Æ¡ng sau</a>
    </div>
  </div>
</div>

<!-- ================= CONTENT ================= -->
<main>
<div class="content chapter-content">

        <p>ã€ â€œHiá»‡n táº¡i ngáº«m láº¡i, háº¯n tháº­t Ä‘Ãºng lÃ  giá»‘ng cuá»‘i mÃ¹a thu má»™t cá»• giÃ³ láº¡nh.â€ Sato Miwako tá»« trong há»“i á»©c bá»©t ra, táº§m máº¯t rÆ¡i xuá»‘ng kia má»™t phong tin ngáº¯n thÆ°á»£ng: Phá»¥ chÃº ta váº«n luÃ´n Ä‘á»‘i vá»›i ngÆ°Æ¡i ráº¥t cÃ³ háº£o cáº£m. ã€‘â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ má»i ngÆ°á»i Ã¡nh máº¯t Ä‘á»“ng thá»i tá»¥ táº­p á»Ÿ tÃ³c quÄƒn cáº£nh sÃ¡t trÃªn ngÆ°á»i. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œSÃ¡châ€¦ NhÆ° tháº¿ nÃ o liá»n cÃ¡i nÃ y Ä‘á»u cÃ³?â€ Chuyá»‡n xÆ°a nam chÃ­nh cÃ²n khÃ´ng cÃ³ chÃº Ã½ tá»›i nhá»¯ng ngÆ°á»i khÃ¡c biá»ƒu tÃ¬nh. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ qua vÃ i giÃ¢y, tÃ³c quÄƒn cáº£nh sÃ¡t nhÆ° lÃ  bá»—ng nhiÃªn cáº£m nháº­n Ä‘Æ°á»£c cÃ¡i gÃ¬: â€œâ€¦ LÃ m gÃ¬ Ä‘á»u nhÆ° váº­y nhÃ¬n ta?!â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ máº¥y cÃ¡i Ä‘á»“ng ká»³ nhá»‹n khÃ´ng Ä‘Æ°á»£c cÆ°á»i ra tiáº¿ng, Furuya Rei ngháº¹n cÆ°á»i biá»ƒu tÃ¬nh Ä‘áº·c biá»‡t rÃµ rÃ ng. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œKim mao há»—n Ä‘áº£n ngÆ°Æ¡i khÃ´ng cho cÆ°á»i!!â€ Háº¯n hoÃ n toÃ n táº¡c mao, trÃªn máº·t hiá»‡n ra máº¥t tá»± nhiÃªn Ä‘á» á»­ng. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ sau khi nÃ³i xong, Furuya Rei Ä‘áº£o trá»±c tiáº¿p buÃ´ng ra cÆ°á»i, tháº­m chÃ­ cÃ²n cÆ°á»i ra vÃ i giá»t nÆ°á»›c máº¯t, cuá»‘i cÃ¹ng thá»Ÿ phÃ¬ phÃ² há»i: â€œVÃ¬ cÃ¡i gÃ¬ chá»‰ nÃ³i ta a?!â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ Ä‘Ã£ lÃ¢u khÃ´ng cÃ³ ngÆ°á»i cÃ¹ng háº¯n cÃ£i nhau qua, cÅ©ng Ä‘Ã£ lÃ¢u khÃ´ng cÃ³ nhÆ° váº­y tháº£ lá»ng mÃ  cÆ°á»iâ€¦â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒMatsuda Jinpei há»« láº¡nh má»™t tiáº¿ng: â€œBá»Ÿi vÃ¬ ngÆ°Æ¡i gia há»a nÃ y cÆ°á»i Ä‘áº¿n vui váº» nháº¥t!â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ nguyÃªn báº£n cáº£m xÃºc cÃ²n cÃ³ chÃºt háº¡ xuá»‘ng Hagiwara Kenji nhÃ¬n Ä‘áº¿n cho nhau cÆ°á»i máº¯ng báº¡n tá»‘t, kia phÃ¢n khá»• sá»Ÿ cÅ©ng bá»‹ Ã¡p tá»›i rá»“i Ä‘Ã¡y lÃ²ng, Ä‘i theo á»“n Ã o vÃ i cÃ¢u. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œThu ngÆ°Æ¡i nhÆ° tháº¿ nÃ o cÅ©ng Ä‘i theo gia há»a nÃ y cÃ¹ng nhau a?!â€ Lá»i nÃ³i lÃ  nÃ³i nhÆ° váº­y, Matsuda Jinpei treo á»Ÿ trong lÃ²ng cá»¥c Ä‘Ã¡ láº¡i lÃ  hÆ¡n phÃ¢n ná»­a khá»‘i Ä‘á»u rÆ¡i xuá»‘ng Ä‘áº¥t. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ ná»­a tÃ³c dÃ i cáº£nh sÃ¡t lá»™ ra xem nhÆ° Ä‘Ã£ lÃ¢u tÆ°Æ¡i cÆ°á»i: â€œLÃ m tiá»ƒu Jinpei Ä‘á»‡ nháº¥t thÃ¢n há»¯u, loáº¡i sá»± tÃ¬nh nÃ y nhÆ° tháº¿ nÃ o cÃ³ thá»ƒ thiáº¿u Kenji tÆ°Æ¡ng â€”â€”â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ náº¿u quan trá»ng ngÆ°á»i Ä‘á»u táº¡i bÃªn ngÆ°á»i, váº­y dáº«m háº¡ chÃ¢n ga vá» phÃ­a trÆ°á»›c Ä‘i thÃ´i! â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒã€ thiáº¿u niÃªn trinh thÃ¡m Ä‘oÃ n gáº·p Ä‘Æ°á»£c Sato cáº£nh sÃ¡t, báº¡ch Ä‘iá»ƒu cáº£nh sÃ¡t á»Ÿ má»™t nhÃ  hÃ ng cá»­a xe bÃªn cáº¥p Takagi Wataru nÃ³i kia Ä‘oáº¡n chuyá»‡n cÅ©.</p>
        <p>â€ƒâ€ƒ â€œChÃºng ta cÄƒn báº£n lÃ  khÃ´ng hy vá»ng.â€</p>
        <p>â€ƒâ€ƒ â€œNÃ³i cÅ©ng lÃ .â€ Takagi Wataru uá»ƒ oáº£i á»‰u xÃ¬u.</p>
        <p>â€ƒâ€ƒ â€œBáº¥t quÃ¡, náº¿u chÃºng ta cÅ©ng hi sinh vÃ¬ nhiá»‡m vá»¥ nÃ³i, cÃ³ láº½ cÃ²n cÃ³ cÃ¹ng Matsuda cáº£nh sÃ¡t ganh Ä‘ua cao tháº¥p cÆ¡ há»™i.â€</p>
        <p>â€ƒâ€ƒ â€œLÃ m Æ¡n, ngÆ°Æ¡i Ä‘á»«ng nÃ³i loáº¡i nÃ y khÃ´ng may máº¯n nÃ³i Ä‘Æ°á»£c khÃ´ngâ€¦!â€</p>
        <p>â€ƒâ€ƒ lá»i nÃ³i cÃ²n chÆ°a nÃ³i xong, hai ngÆ°á»i gáº·p Ä‘Æ°á»£c vÃ¬ biá»ƒu cáº£m táº¡ mang theo thiáº¿u niÃªn trinh thÃ¡m Ä‘oÃ n máº¥y ngÆ°á»i Ä‘i Äƒn bÃ¡nh kem Sato, báº¡ch Ä‘iá»ƒu táº¯c muá»‘n lÃ¡i xe rá»i Ä‘i. Edogawa Conan tá»« Takagi trong miá»‡ng Ä‘Ã£ biáº¿t cÃ³ ngÆ°á»i nÃ³i á»Ÿ nhÃ  Äƒn an bom, ngÃ y Ä‘Ãºng lÃ  báº£y nÄƒm trÆ°á»›c cÃ¹ng bá»‘n nÄƒm trÆ°á»›c cÃ¹ng má»™t ngÃ y, Ä‘á»™t nhiÃªn, báº¡ch Ä‘iá»ƒu má»›i vá»«a ngá»“i vÃ o xe ná»• máº¡nh. ã€‘â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ á»Ÿ Ä‘Ã¢y ngÆ°á»i Ä‘á»u bá»‹ hoáº£ng sá»£, cho dÃ¹ lÃ  lÃºc áº¥y á»Ÿ Ä‘Ã¢y Edogawa Conan cÅ©ng kinh ngáº¡c má»™t chÃºt, háº¯n cháº­m rÃ£i há»“i tÆ°á»Ÿng khá»Ÿi cÃ¡i kia Ã¡n tá»­â€¦â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œBáº¡ch Ä‘iá»ƒu cáº£nh sÃ¡t!â€ Mouri Ran kinh hÃ´ ra tiáº¿ng. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒOkiya Subaru hÃ­p máº¯t, kháº½ nhÃ­u mÃ y, lÃ m bá»™ khÃ´ng cÃ³ chÃº Ã½ tá»›i phÃ­a sau váº«n luÃ´n trá»™m nhÃ¬n cháº±m cháº±m háº¯n táº§m máº¯t. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ tiáº¿ng ná»• máº¡nh váº«n lÃ  lÃ m Matsuda Jinpei chinh má»™t cÃ¡i chá»›p máº¯t, cÃ³ váº» sáº¯c máº·t cÃ³ chÃºt khÃ´ng tá»‘t. Tháº¥y nhá»¯ng ngÆ°á»i khÃ¡c pháº£n á»©ng, thuyáº¿t minh tÃªn nÃ y cáº£nh sÃ¡t thÆ°Æ¡ng tÃ¬nh khÃ´ng pháº£i thá»±c trá»ng, hoáº·c lÃ  cuá»‘i cÃ¹ng thÃ nh cÃ´ng chuyá»ƒn nguy thÃ nh an, háº¯n khÃ´ng máº·n khÃ´ng nháº¡t nÃ³i má»™t cÃ¢u: â€œTÃ­nh cáº£nh giÃ¡c khÃ´ng Ä‘á»§.â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒMatsuda Jinpei dÃ¹ sao cÅ©ng lÃ  tiá»n bá»‘i, xÃ¡c tháº­t cÃ³ nhÆ° váº­y Ä‘Ã¡nh giÃ¡ tÆ° cÃ¡ch, cÅ©ng khÃ´ng cÃ³ ngÆ°á»i pháº£n Ä‘á»‘i. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ thÃ¢n lÃ  cÃ´ng an Ä‘áº§u má»¥c Furuya Rei nhá»› tá»›i máº¥y tÃªn thá»§ háº¡, Ä‘áº·c biá»‡t lÃ  ngÃ y thÆ°á»ng tiáº¿p xÃºc nhiá»u nháº¥t Kazami Yuuya, háº¯n tá»± há»i má»™t lÃ¡t, quyáº¿t Ä‘á»‹nh: â€œÃ‚n, quáº£ nhiÃªn váº«n lÃ  muá»‘n nhiá»u luyá»‡nâ€¦â€</p>
        <p>â€œLÃ  Ä‘áº¡i tiá»n bá»‘i tiá»ƒu Jinpei ai ï½â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œâ€¦ NÃ³i lá»i nÃ³i tháº­t mÃ  thÃ´i!â€ â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒã€ trÃªn thá»±c táº¿ báº¡ch Ä‘iá»ƒu cáº£nh sÃ¡t tÃ¬nh huá»‘ng khÃ´ng dung láº¡c quan, trÃªn xe há»a Ä‘Ã£ bá»‹ dáº­p táº¯t, háº¯n Ä‘Æ°a cho Sato má»™t trÆ°Æ¡ng giáº¥y, lÃ  pháº¡m nhÃ¢n lÆ°u láº¡i cáº£nh cÃ¡o tin. Äá»“ng thá»i, tá»•ng cá»¥c cÅ©ng thu Ä‘Æ°á»£c váº½ truyá»n tháº§n, cÃ¹ng báº£y nÄƒm trÆ°á»›c, bá»‘n nÄƒm trÆ°á»›c hung thá»§ lÃ  cÃ¹ng ngÆ°á»i. Báº¡ch Ä‘iá»ƒu bá»‹ an toÃ n Ä‘Æ°a lÃªn xe cá»©u thÆ°Æ¡ng, Sato háº¡ quyáº¿t tÃ¢m muá»‘n báº¯t tÃªn kia pháº¡m nhÃ¢n. ã€‘â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ nhÃ¬n Sato bá»™ dÃ¡ng, Matsuda Jinpei khÃ´ng khá»i nghÄ© Ä‘áº¿n chÃ­nh mÃ¬nh ngay lÃºc Ä‘Ã³ tráº¡ng thÃ¡iâ€¦ NgoÃ i dá»± Ä‘oÃ¡n tÆ°Æ¡ng tá»± a. Chá»‰ cÃ³ quen thuá»™c ngÆ°á»i cá»§a háº¯n biáº¿t, á»Ÿ thÃ nh thá»¥c lÃ£nh khá»‘c bá» ngoÃ i háº¡, cáº¥t giáº¥u chÃ­nh lÃ  kia viÃªn cá»±c nÃ³ng bÃ¡o thÃ¹ chi tÃ¢m. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒHagiwara Kenji giá» phÃºt nÃ y tháº­p pháº§n cÃ³ thá»ƒ cÃ¹ng Sato Miwako cá»™ng tÃ¬nh, náº¿u Ä‘á»•i thÃ nh háº¯nâ€¦ Háº¯n tháº­t Ä‘Ãºng lÃ  khÃ´ng xÃ¡c Ä‘á»‹nh chÃ­nh mÃ¬nh sáº½ lÃ m ra cÃ¡i gÃ¬, ngÆ°á»i kia háº¡i cháº¿t khÃ´ng chá»‰ lÃ  chÃ­nh mÃ¬nh, váº«n lÃ  sá»­ báº¡n thÃ¢n hi sinh vÃ¬ nhiá»‡m vá»¥ Ä‘áº§u sá» gÃ¢y tá»™i, mÃ  á»Ÿ háº¯n trong lÃ²ng sau má»™t chÃºt lÃ  quan trá»ng nháº¥t. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ náº¿u nÃ³i Hagiwara Kenji Ä‘á»‡ nhá»‹ háº­n tÃªn nÃ y pháº¡m nhÃ¢n, nhÆ° váº­y khÃ´ng cÃ³ ngÆ°á»i sáº½ bÃ i Ä‘á»‡ nháº¥t. Matsuda Jinpei cÅ©ng chá»‰ sáº½ lÃ  song song Ä‘á»‡ nhá»‹, ngay cáº£ háº¯n báº£n thÃ¢n Ä‘á»u tÆ°Æ¡ng Ä‘á»‘i khÃ´ng ra ai cÃ ng hy vá»ng hung thá»§ bá»‹ báº¯t. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ bá»n há» cÅ©ng khÃ´ng lÃ  báº¥t luáº­n cÃ¡i gÃ¬ má»™t phÆ°Æ¡ng Ä‘Æ¡n phÆ°Æ¡ng tráº£ giÃ¡, mÃ  lÃ  song hÆ°á»›ng cá»©u rá»—i. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œTiá»ƒu Ä‘á»‡ Ä‘á»‡, ngÆ°Æ¡i lÃ  biáº¿t cÃ¡i nÃ y Ã¡n kiá»‡n sao?â€ Morofushi Hiromitsu khÃ­ trÃ ng bÃ¬nh tháº£n, thanh Ã¢m tháº¥p nhu. Tá»« phÃ­a trÆ°á»›c nam hÃ i cÃ¹ng vá»‹ kia tÃ³c dÃ i cao trung sinh tuá»•i ná»¯ hÃ i chi gian giao lÆ°u tá»›i xem, tuy ráº±ng khÃ´ng rÃµ rÃ ng láº¯m rá»‘t cuá»™c Ä‘Ã£ xáº£y ra cÃ¡i gÃ¬, nhÆ°ng cÃ³ thá»ƒ nghe ra tá»›i Ä‘á»‘i phÆ°Æ¡ng thÃ¢n pháº­n khÃ´ng pháº£i Ä‘Æ¡n giáº£n nhÆ° váº­y, tá»±a há»“ cÃ²n cÃ¹ng tá»• chá»©c cÃ³ quan há»‡. CÃ²n cÃ³ cÃ¡i kia trÃ  phÃ¡t ná»¯ hÃ i, nhÆ° lÃ â€¦Sherry? Bá»Ÿi vÃ¬ Sherry lÃ  phá»¥ trÃ¡ch nghiÃªn cá»©u phÆ°Æ¡ng diá»‡n, bá»n há» cÆ¡ há»“ khÃ´ng cÃ³ giao thoa. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒEdogawa Conan gáº­t gáº­t Ä‘áº§u: â€œÃ‚n!â€ Háº¯n háº­u tri háº­u giÃ¡c má»›i pháº£n á»©ng láº¡i Ä‘Ã¢y, thÃ¢n pháº­n Ä‘Ã£ báº¡i lá»™, láº¡i trang Ä‘Æ¡n thuáº§n tiá»ƒu hÃ i tá»­ liá»n khÃ´ng thÃ­ch há»£p, vÃ¬ tháº¿ cÃ³ chÃºt xáº¥u há»• mÃ  cÆ°á»i cÆ°á»i. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œTÃªn kia pháº¡m nhÃ¢n cuá»‘i cÃ¹ng bá»‹ báº¯t Ä‘i? LÃ  cÃ¡i cÃ¡i dáº¡ng gÃ¬ ngÆ°á»i Ä‘Ã¢u?â€ Máº¯t mÃ¨o cáº£nh sÃ¡t tiáº¿p tá»¥c há»i. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ tiá»ƒu trinh thÃ¡m láº¡i gáº­t gáº­t Ä‘áº§u, mÃ  khi háº¯n tÆ°á»Ÿng tráº£ lá»i cÃ¡i thá»© hai váº¥n Ä‘á» thá»i Ä‘iá»ƒm láº¡i dá»«ng láº¡i, háº¯n nÃªn nhÆ° tháº¿ nÃ o má»Ÿ miá»‡ng nÃ³i, háº¡i cháº¿t khÃ´ng ngá»«ng hai tÃªn Æ°u tÃº cáº£nh sÃ¡t pháº¡m nhÃ¢n, trÃªn thá»±c táº¿ lÃ  nhÆ° váº­y vÃ´ nÄƒng yáº¿u Ä‘uá»‘i ngÆ°á»i. â€ƒâ€ƒ</p>
        <p>â€ƒâ€ƒ â€œhiroâ€¦â€ Furuya Rei nháº¹ nhÃ ng vá»— vá»— Morofushi Hiromitsu báº£ vai.</p>






<!-- ===== NAV DÆ¯á»šI ===== -->
<div class="nav">
      <a class="back-link" href="../index.html">ğŸ“‘ Má»¥c lá»¥c</a>
      <a class="back-link" href="../../../index.html">ğŸ  Trang chá»§</a>
      <a class="back-link" href="../../../thu-vien-ten/name-library.html">ğŸ“– ThÆ° viá»‡n tÃªn</a>
      <a class="back-link" href="phan7.html">â® ChÆ°Æ¡ng trÆ°á»›c</a>
      <a class="back-link" href="phan9.html">â­ ChÆ°Æ¡ng sau</a>
</div>
  </main>
<!-- ================= BOOKMARK ================= -->
<script>
const NOVEL_ID = "chan-dong-so-canh-sat-do-thi-1200-van-con-tin";
const NOVEL_TITLE = "Cháº¥n Äá»™ng Sá»Ÿ Cáº£nh SÃ¡t ÄÃ´ Thá»‹ 1200 Váº¡n Con Tin ã€Xem áº¢nh Thá»ƒã€‘";
const CHAPTER_TITLE = "Pháº§n 8";
const btn = document.getElementById("bookmarkBtn");
function getBookmarks() {
  return JSON.parse(localStorage.getItem("bookmarks")) || {};
}
function isBookmarked() {
  return !!getBookmarks()[NOVEL_ID];
}
function updateButton() {
  const marked = isBookmarked();
  btn.textContent = marked ? "âœ… ÄÃ£ káº¹p" : "ğŸ“Œ Káº¹p sÃ¡ch";
  btn.classList.toggle("active", marked);
}
function toggleBookmark() {
  const bookmarks = getBookmarks();
  if (bookmarks[NOVEL_ID]) {
    delete bookmarks[NOVEL_ID];
    alert("âŒ ÄÃ£ bá» káº¹p sÃ¡ch");
  } else {
    bookmarks[NOVEL_ID] = {
      novelTitle: NOVEL_TITLE,
      chapterTitle: CHAPTER_TITLE,
      url: location.href,
      time: Date.now()
    };
    alert("ğŸ“Œ ÄÃ£ lÆ°u chÆ°Æ¡ng Ä‘ang Ä‘á»c");
  }
  localStorage.setItem("bookmarks", JSON.stringify(bookmarks));
  updateButton();
}
updateButton();
btn.addEventListener("click", toggleBookmark);
</script>
<!-- ================= HEADER SHRINK ================= -->
<script>
document.addEventListener("DOMContentLoaded", function () {

  /* =========================
     HEADER SHRINK + PADDING
  ========================== */

  const fixedHeader = document.querySelector(".fixed-top");
  const main = document.querySelector("main");

  function adjustMainPadding() {
    if (!fixedHeader || !main) return;
    main.style.paddingTop = fixedHeader.offsetHeight + 20 + "px";
  }

  function handleHeaderShrink() {
    if (!fixedHeader) return;
    fixedHeader.classList.toggle("shrink", window.scrollY > 80);
    adjustMainPadding();
  }

  window.addEventListener("scroll", handleHeaderShrink);
  window.addEventListener("resize", adjustMainPadding);
  adjustMainPadding();


  /* =========================
     SIDEBAR THÆ¯ VIá»†N (TRÃI)
  ========================== */

  const sidebar = document.getElementById("librarySidebar");
  const overlay = document.getElementById("overlay");
  const storyList = document.getElementById("storyList");
  const searchInput = document.getElementById("searchInput");

  function toggleLibrary() {
    if (!sidebar || !overlay) return;
    sidebar.classList.toggle("active");
    overlay.classList.toggle("active");
  }

  window.toggleLibrary = toggleLibrary;

  let storiesData = [];

  fetch("../../../stories.json")
    .then(res => res.json())
    .then(data => {
      storiesData = data;
      renderStories(data);
    })
    .catch(err => console.error("Lá»—i load stories.json:", err));

  function renderStories(data) {
    if (!storyList) return;

    storyList.innerHTML = "";

    const pathParts = window.location.pathname.split("/");
    const currentSlug = pathParts[2];

    data.forEach((story, index) => {
      const li = document.createElement("li");
      li.style.animationDelay = `${Math.min(index * 0.03, 0.3)}s`;

      const a = document.createElement("a");
      a.href = `/web-doc-truyen/stories/${story.slug}/`;
      a.textContent = `${story.title} (${story.chapters} chÆ°Æ¡ng)`;

      if (story.slug === currentSlug) {
        a.style.background = "#e0e7ff";
      }

      li.appendChild(a);
      storyList.appendChild(li);
    });
  }

  if (searchInput) {
    searchInput.addEventListener("input", function () {
      const keyword = this.value.toLowerCase();
      const filtered = storiesData.filter(story =>
        story.title.toLowerCase().includes(keyword)
      );
      renderStories(filtered);
    });
  }


  /* =========================
     SIDEBAR Má»¤C Lá»¤C CHÆ¯Æ NG (PHáº¢I)
  ========================== */

  const chapterSidebar = document.getElementById("chapterSidebar");
  const chapterOverlay = document.getElementById("chapterOverlay");
  const chapterList = document.getElementById("chapterList");

  function toggleChapterMenu() {
    if (!chapterSidebar || !chapterOverlay) return;
    chapterSidebar.classList.toggle("active");
    chapterOverlay.classList.toggle("active");
  }

  window.toggleChapterMenu = toggleChapterMenu;

  if (chapterList) {
    fetch("../index.html")
      .then(res => res.text())
      .then(html => {
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, "text/html");

        const toc = doc.querySelector(".content ul");
        if (!toc) return;

        const currentPage = window.location.pathname.split("/").pop();

        toc.querySelectorAll("li").forEach(li => {
          const a = li.querySelector("a");
          if (!a) return;

          let href = a.getAttribute("href");

          if (href.startsWith("chapter/")) {
            href = href.replace("chapter/", "");
          }

          const newLi = document.createElement("li");
          const newA = document.createElement("a");

          newA.href = href;
          newA.textContent = a.textContent;

          if (href === currentPage) {
            newA.style.background = "#e0e7ff";
          }

          newLi.appendChild(newA);
          chapterList.appendChild(newLi);
        });
      })
      .catch(err => console.error("KhÃ´ng load Ä‘Æ°á»£c má»¥c lá»¥c:", err));
  }

});
</script>
</body>
</html>
