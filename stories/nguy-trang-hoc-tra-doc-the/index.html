
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ng·ª•y Trang H·ªçc TraÔºªƒê·ªçc Th·ªÉÔºΩ</title>

  <!-- FONT -->
  <link href="https://fonts.googleapis.com/css2?family=Source+Serif+4:wght@400;500;600&family=DM+Serif+Display&display=swap" rel="stylesheet">

  <!-- STYLE -->
<link rel="stylesheet" href="style.css">

</head>

<body>
<div class="menu-toggle" onclick="toggleLibrary()">‚ò∞</div>

<div class="overlay" id="overlay" onclick="toggleLibrary()"></div>

<div class="library-sidebar" id="librarySidebar">
  <div class="library-header">
    üìö Th∆∞ vi·ªán
    <span class="close-btn" onclick="toggleLibrary()">‚úï</span>
  </div>

  <input type="text" id="searchInput" placeholder="T√¨m truy·ªán..." />

  <ul id="storyList"></ul>
</div>



<!-- ===== FIXED TOP (HEADER C·ªê ƒê·ªäNH) ===== -->
<div class="fixed-top">
  <div class="fixed-inner">

    <div class="top-left">
      <a href="../../index.html" class="back-link">‚Üê Kho Truy·ªán</a>
      <a href="../../thu-vien-ten/name-library.html" class="back-link">Th∆∞ Vi·ªán T√™n</a>
    </div>

    <div class="top-center">
      <h1 class="novel-title">
        Ng·ª•y Trang H·ªçc TraÔºªƒê·ªçc Th·ªÉÔºΩ
      </h1>
    </div>

    <div class="top-right author">
      ‚úçÔ∏è Thanh ·∫¢nh Nh√¢n Gian
    </div>

    <div class="novel-meta">
      <span>üìò Ho√†n th√†nh</span>
      <span>üìñ 40 ch∆∞∆°ng</span>
    </div>

  </div>
</div>
<!-- ===== MAIN CONTENT ===== -->
<main>
  <div class="novel-layout">

    <!-- ·∫¢nh b√¨a -->
    <div class="cover-image">
      <img src="cover.png" alt="·∫¢nh b√¨a truy·ªán">
    </div>


  <!-- ===== VƒÇN √ÅN ===== -->
  <section class="section">
    <div class="section-title">üìú VƒÉn √°n</div>

    <div class="tag-line">
      <span>Di·ªÖn sinh</span>
      <span>ƒêam m·ªπ</span>
      <span>Ch·ªß th·ª•</span>
      <span>Hi·ªán ƒë·∫°i</span>
      <span>V∆∞·ªùn tr∆∞·ªùng</span>
      <span>ƒê·ªçc th·ªÉ</span>



    </div>

    <div class="content">
        <p>M·ªôt gi·∫•c ng·ªß d·∫≠y th√¢n ·ªü d·ªã kh√¥ng gian, m·ªôt quy·ªÉn s√°ch l√†m cho b·ªçn h·ªç hi·ªÉu bi·∫øt s·ªü h·ªØu chuy·ªán x∆∞a c√πng t∆∞∆°ng lai.</p>

        <p>35 ch∆∞∆°ng tr·ªü v·ªÅ hi·ªán th·ª±c</p>

        <p>Tag: M√πa hoa m√πa m∆∞a, Hoan h·ªâ oan gia, Ng·ªçt vƒÉn</p>

        <p>T·ª´ kh√≥a t√¨m ki·∫øm: Vai ch√≠nh: H·∫° tri·ªÅu, t·∫° du ‚îÉ vai ph·ª•: M·ªôt ƒë·ªëng l·ªõn ‚îÉ c√°i kh√°c: Ha ha</p>

        <p>M·ªôt c√¢u t√≥m t·∫Øt: Ng·ª•y trang h·ªçc tra ƒë·ªçc th·ªÉ</p>

        <p>L·∫≠p √Ω: ƒê·ªçc th·ªÉ</p>



    </div>
  </section>
    </div>
  <!-- ===== M·ª§C L·ª§C ===== -->
  <section class="section">
    <div class="section-title">üìö M·ª•c l·ª•c</div>
    <div class="content">
      <ul>
    <li><a href="chapter/chuong1.html">Ch∆∞∆°ng 1</a></li>
    <li><a href="chapter/chuong2.html">Ch∆∞∆°ng 2</a></li>
    <li><a href="chapter/chuong3.html">Ch∆∞∆°ng 3</a></li>
    <li><a href="chapter/chuong4.html">Ch∆∞∆°ng 4</a></li>
    <li><a href="chapter/chuong5.html">Ch∆∞∆°ng 5</a></li>
    <li><a href="chapter/chuong6.html">Ch∆∞∆°ng 6</a></li>
    <li><a href="chapter/chuong7.html">Ch∆∞∆°ng 7</a></li>
    <li><a href="chapter/chuong8.html">Ch∆∞∆°ng 8</a></li>
    <li><a href="chapter/chuong9.html">Ch∆∞∆°ng 9</a></li>
    <li><a href="chapter/chuong10.html">Ch∆∞∆°ng 10</a></li>
    <li><a href="chapter/chuong11.html">Ch∆∞∆°ng 11</a></li>
    <li><a href="chapter/chuong12.html">Ch∆∞∆°ng 12</a></li>
    <li><a href="chapter/chuong13.html">Ch∆∞∆°ng 13</a></li>
    <li><a href="chapter/chuong14.html">Ch∆∞∆°ng 14</a></li>
    <li><a href="chapter/chuong15.html">Ch∆∞∆°ng 15</a></li>
    <li><a href="chapter/chuong16.html">Ch∆∞∆°ng 16</a></li>
    <li><a href="chapter/chuong17.html">Ch∆∞∆°ng 17</a></li>
    <li><a href="chapter/chuong18.html">Ch∆∞∆°ng 18</a></li>
    <li><a href="chapter/chuong19.html">Ch∆∞∆°ng 19</a></li>
    <li><a href="chapter/chuong20.html">Ch∆∞∆°ng 20</a></li>
    <li><a href="chapter/chuong21.html">Ch∆∞∆°ng 21</a></li>
    <li><a href="chapter/chuong22.html">Ch∆∞∆°ng 22</a></li>
    <li><a href="chapter/chuong23.html">Ch∆∞∆°ng 23</a></li>
    <li><a href="chapter/chuong24.html">Ch∆∞∆°ng 24</a></li>
    <li><a href="chapter/chuong25.html">Ch∆∞∆°ng 25</a></li>
    <li><a href="chapter/chuong26.html">Ch∆∞∆°ng 26</a></li>
    <li><a href="chapter/chuong27.html">Ch∆∞∆°ng 27</a></li>
    <li><a href="chapter/chuong28.html">Ch∆∞∆°ng 28</a></li>
    <li><a href="chapter/chuong29.html">Ch∆∞∆°ng 29</a></li>
    <li><a href="chapter/chuong30.html">Ch∆∞∆°ng 30</a></li>
    <li><a href="chapter/chuong31.html">Ch∆∞∆°ng 31</a></li>
    <li><a href="chapter/chuong32.html">Ch∆∞∆°ng 32</a></li>
    <li><a href="chapter/chuong33.html">Ch∆∞∆°ng 33</a></li>
    <li><a href="chapter/chuong34.html">Ch∆∞∆°ng 34</a></li>
    <li><a href="chapter/chuong35.html">Ch∆∞∆°ng 35</a></li>
    <li><a href="chapter/chuong36.html">Ch∆∞∆°ng 36</a></li>
    <li><a href="chapter/chuong37.html">Ch∆∞∆°ng 37</a></li>
    <li><a href="chapter/chuong38.html">Ch∆∞∆°ng 38</a></li>
    <li><a href="chapter/chuong39.html">Ch∆∞∆°ng 39</a></li>
    <li><a href="chapter/chuong40.html">Ch∆∞∆°ng 40: Phi√™n Ngo·∫°i</a></li>

  </ul>
</div>
</section>

</main>

<footer>
  ¬© 2026 ‚Äì Web ƒë·ªçc truy·ªán c√° nh√¢n
</footer>
<script>
  const header = document.querySelector('.fixed-top');
  const main = document.querySelector('main');

  function updateLayout() {
    const headerHeight = header.offsetHeight;
    main.style.paddingTop = headerHeight + 'px';
  }

  window.addEventListener('scroll', () => {
    if (window.scrollY > 80) {
      header.classList.add('shrink');
    } else {
      header.classList.remove('shrink');
    }
    updateLayout();
  });

  window.addEventListener('resize', updateLayout);
  window.addEventListener('load', updateLayout);

  // ===== SIDEBAR LOGIC =====

  const sidebar = document.getElementById("librarySidebar");
  const overlay = document.getElementById("overlay");
  const storyList = document.getElementById("storyList");
  const searchInput = document.getElementById("searchInput");

  function toggleLibrary() {
    sidebar.classList.toggle("active");
    overlay.classList.toggle("active");
  }

  let storiesData = [];

  // üî• Path chu·∫©n (v√¨ ƒëang ·ªü /stories/slug/index.html)
  fetch("../../stories.json")
    .then(res => res.json())
    .then(data => {
      storiesData = data;
      renderStories(data);
    })
    .catch(err => console.error("L·ªói load stories.json:", err));

  function renderStories(data) {
    storyList.innerHTML = "";

    // üî• L·∫•y slug an to√†n (kh√¥ng ph·ª• thu·ªôc c·∫•u tr√∫c deploy)
    const pathParts = window.location.pathname.split("/");
    const currentSlug = pathParts[pathParts.length - 2];

    data.forEach((story, index) => {
      const li = document.createElement("li");

      // üî• Gi·ªõi h·∫°n animation delay
      li.style.animationDelay = `${Math.min(index * 0.03, 0.3)}s`;

      const a = document.createElement("a");
      a.href = `/web-doc-truyen/stories/${story.slug}/`;
      a.textContent = `${story.title} (${story.chapters} ch∆∞∆°ng)`;

      // üî• Highlight truy·ªán ƒëang ƒë·ªçc
      if (story.slug === currentSlug) {
        a.style.background = "#e0e7ff";
      }

      // üî• Auto ƒë√≥ng sidebar khi click
      a.addEventListener("click", () => {
        sidebar.classList.remove("active");
        overlay.classList.remove("active");
      });

      li.appendChild(a);
      storyList.appendChild(li);
    });
  }

  // üî• T√¨m ki·∫øm realtime
  searchInput.addEventListener("input", function () {
    const keyword = this.value.toLowerCase();

    const filtered = storiesData.filter(story =>
      story.title.toLowerCase().includes(keyword)
    );

    renderStories(filtered);
  });
</script>


</body>
</html>